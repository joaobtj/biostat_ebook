[{"path":"index.html","id":"prefácio","chapter":"Prefácio","heading":"Prefácio","text":"Este é um livro utilizado como texto-base para disciplina de Bioestatística Programa de Pós-Graduação em Ecossistemas Agrícolas e Naturais da Universidade Federal de Santa Catarina (UFSC) Campus de Curitibanos.Este material está em elaboração, sujeito alterações!","code":""},{"path":"index.html","id":"sessão","chapter":"Prefácio","heading":"Sessão","text":"version book built R version 4.2.0 (2022-04-22) following packages:","code":""},{"path":"intro-r.html","id":"intro-r","chapter":"Introdução - O ecossistema R","heading":"Introdução - O ecossistema R","text":"O R (www.r-project.org) é uma linguagem de programação open-source, distribuído sob licença GNU, e multiplataforma, disponível para Windows, MacOS e algumas distribuições Linux. Embora esteja se tornando cada vez mais de uso geral, ele foi originalmente concebido como uma linguagem de programação estatística. Dessa forma, além de análises estatísticas, é capaz de produzir representações gráficas de altíssima qualidade, além de relatórios.Foi criado por Ross Ihaka e Robert Gentleman1 na Universidade de Auckland, Nova Zelândia. Atualmente, é desenvolvido pela R Foundation.É amplamente utilizado pelas grandes empresas, órgãos governamentais e, claro, na pesquisa acadêmica.popularidade R nas ciências tem sido demonstrada por diversos estudos, como o de LAI et al. (2019), em que os autores analisaram mais de 60 mil artigos publicados nos principais periódicos da área de Ecologia e observaram um aumento linear uso R como ferramenta principal para análise de dados.","code":""},{"path":"intro-r.html","id":"pacotes-do-r","chapter":"Introdução - O ecossistema R","heading":"Pacotes do R","text":"O R conta com uma comunidade grande e ativa (useR!) que está sempre contribuindo com melhoria programa por meio desenvolvimento de pacotes que estendem funções originais da linguagem R. Atualmente, 2 o site CRAN (Comprehensive R Archive Network) conta com mais de 18 mil3 pacotes para o R.Os pacotes disponíveis CRAN são facilmente instalados por meio de funções disponiveis próprio R. Também há possibilidade de instalar pacotes diretamente GitHub, local em que muitos dos desenvolvedores de pacotes open-source hospedam seus trabalhos.","code":""},{"path":"intro-r.html","id":"rstudio","chapter":"Introdução - O ecossistema R","heading":"RStudio","text":"O RStudio é um ambiente de desenvolvimento integrado - IDE4 com versão open-source e comercial.Foi desenvolvido para aumentar produtividade dos usuários. Inclui um console, um editor com destaque visual com suporte execução direta código, e ferramentas para manejar arquivos, plotagens, histórico, entre outros.","code":""},{"path":"intro-r.html","id":"rcloud","chapter":"Introdução - O ecossistema R","heading":"RStudio Cloud","text":"É uma versão RStudio que pode ser acessado via navegador, de modo que nada precisa ser instalado na máquina localmente.Além de poder utilizar todas funcionalidades R e RStudio, com o RStudio Cloud é mais fácil compartilhar os projetos com sua equipe.Para começar utilizar, basta criar uma conta site rstudio.cloud. Existe uma conta gratuita que pode ser suficiente para usuários ocasionais. Para quem necessitar, existem também planos pagos.","code":""},{"path":"intro-r.html","id":"tidyverse","chapter":"Introdução - O ecossistema R","heading":"Tidyverse","text":"O universo Tidyverse é uma coleção de pacotes para o R elaborados para ciência dos dados (data science). Todos os pacotes compartilham uma filosofia, gramática e estrutura de dados. funções facilitam comunicação entre humanos e máquina em comparação com funções básicas R.Para instalar todos os pacotes tidyverse:Entre os principais pacotes tidyverse estão:ggplot2: criar gráficos de altíssima qualidade;dplyr: manipulação de dados;tidyr: organização de dados;readr: leitura de arquivos externos, como csv;purrr: programação funcional, permite substituir os loops convencionais;tibble: reinterpretação quadro de dados (data-frame) original;stringr: trabalhar com textos (strings);forcats: trabalhar com fatores (factor).Existem ainda muitos outros pacotes que podem ser consultados aqui: www.tidyverse.org/packages","code":"\ninstall.packages(\"tidyverse\")"},{"path":"intro-r.html","id":"rmarkdown","chapter":"Introdução - O ecossistema R","heading":"RMarkdown","text":"O Markdown é uma linguagem de marcação em texto puro (plain text), em que são utilizadas marcações (muito sutis) para títulos, links e formatações em geral. Seu resultado é bastante legível mesmo sem processamento, diferente de outras linguagens, como HTML ou Latex que requerem muitas tags para formatar o texto.Uma extensão Markdown original é linguagem RMarkdown. Esta é uma poderosa ferramenta que permite combinar análises e os relatórios em um mesmo documento, pois permite incluir códigos em R ao longo documento.De modo geral, o pacote knitr executa os códigos em R e converte o documento de RMarkdown para Markdown. O pacote pandoc renderiza o documento Markdown para o formato desejado, que pode ser HTML, PDF, Word, entre muitos outros.\nMais informações podem ser encontradas em: R Markdown: Definitive Guide e R Markdown Cookbook","code":""},{"path":"procurando-e-pedindo-ajuda-para-o-r.html","id":"procurando-e-pedindo-ajuda-para-o-r","chapter":"Capítulo 1 Procurando (e pedindo) ajuda para o R","heading":"Capítulo 1 Procurando (e pedindo) ajuda para o R","text":"Antes de pedir ajuda, é sempre uma boa prática estudar para tentar resolver por si mesmo. grande maioria dos pacotes e funções R possuem uma boa documentação com exemplos de utilização. Também há diversos fóruns na web especializados com respostas para perguntas mais frequente e sites com tutoriais detalhados.Infelizmente, muitos dos textos de ajuda estão na língua inglesa. Aproveite esta chance para treinar e melhorar sua leitura em inglês.","code":""},{"path":"procurando-e-pedindo-ajuda-para-o-r.html","id":"as-funções-help-e","chapter":"Capítulo 1 Procurando (e pedindo) ajuda para o R","heading":"1.1 As funções help e ?","text":"funções help e ? fornecem acesso à documentação próprio R e são equivalentes entre si.Experimente digitar ?sum para ver documentação desta função:\nFigura 1.1: Ajuda da função sum\nNa documentação, é usual haver uma parte com exemplos de uso da função. Estes exemplos podem ser executados com função example:","code":"\nexample(sum) ## \n## sum> ## Pass a vector to sum, and it will add the elements together.\n## sum> sum(1:5)\n## [1] 15\n## \n## sum> ## Pass several numbers to sum, and it also adds the elements.\n## sum> sum(1, 2, 3, 4, 5)\n## [1] 15\n## \n## sum> ## In fact, you can pass vectors into several arguments, and everything gets added.\n## sum> sum(1:2, 3:5)\n## [1] 15\n## \n## sum> ## If there are missing values, the sum is unknown, i.e., also missing, ....\n## sum> sum(1:5, NA)\n## [1] NA\n## \n## sum> ## ... unless  we exclude missing values explicitly:\n## sum> sum(1:5, NA, na.rm = TRUE)\n## [1] 15"},{"path":"procurando-e-pedindo-ajuda-para-o-r.html","id":"stack-overflow","chapter":"Capítulo 1 Procurando (e pedindo) ajuda para o R","heading":"1.2 Stack Overflow","text":"O stackoverflow.com é um site bem organizado especializado na discussão de assuntos relativos à programação. Tópicos marcados com tag “r” chegam mais de 440 mil 5. Para acessar todos os tópicos com tag “r”, acesse stackoverflow.com/questions/tagged/r.Este site tem vantagem de ser bem fácil de fazer buscas. Tente digitar, na caixa de buscas, seguinte expressão: [r] logistic regression fit6\nFigura 1.2: Busca site (stackoverflow.com)[(https://stackoverflow.com]\n","code":""},{"path":"procurando-e-pedindo-ajuda-para-o-r.html","id":"ajuda-professor","chapter":"Capítulo 1 Procurando (e pedindo) ajuda para o R","heading":"1.3 Pedir ajuda ao seu professor","text":"Antes de tudo, vou mostrar um exemplo de como não pedir ajuda ao professor (Figura 1.3:\nFigura 1.3: É difícil ajudar com uma foto da tela com baixa qualidade\nÉ muito difícil conseguir ajudar baseado apenas em uma foto da tela, ainda mais de baixa qualidade e difícil de ler/entender.7Formular uma boa pergunta é 90% desafio e, muitas vezes, o processo de formular pergunta já fornece própria resposta.Para conseguir ajuda mais rápida e com maior chance de ser adequadamente respondida, siga alguma destas recomendações:Compacte8 e compartilhe todo o diretório seu projeto;Compartilhe seu projeto RStudio Cloud;Utilize o pacote reprex (Seção 1.4).","code":""},{"path":"procurando-e-pedindo-ajuda-para-o-r.html","id":"reprex","chapter":"Capítulo 1 Procurando (e pedindo) ajuda para o R","heading":"1.4 O pacote reprex","text":"Reprex é sigla para reproducible example, ou exemplo reproduzível. O código que você deseja compartilhar deve ser renderizado dentro da função reprex::reprex, como código completo dentro de chaves { }.Esta função cria um arquivo renderizado com o exemplo e também envia o resultado direto para área de transferência para poder ser colado com o Ctrl + V.O resultado da função acima pode ser visto abaixo:","code":"\nreprex::reprex({\n  y <- c(1,2,3,4,\"a\")\n  mean(y)\n})\ny <- c(1,2,3,4,\"a\")\nmean(y)\n#> Warning in mean.default(y): argumento não é numérico nem lógico: retornando NA\n#> [1] NA"},{"path":"comeco.html","id":"comeco","chapter":"Capítulo 2 Começando com o R","heading":"Capítulo 2 Começando com o R","text":"Neste capítulo, vamos iniciar com o uso R e RStudio.","code":""},{"path":"comeco.html","id":"a-interface-do-rstudio","chapter":"Capítulo 2 Começando com o R","heading":"2.1 A interface do RStudio","text":"O RStudio possui uma interface simples mas bastante funcional para trabalhar com códigos R.São quatro janelas principais como pode ser visto na Figura 2.1.\nFigura 2.1: Interface RStudio\nSource (Editor) (canto superior esquerdo): local para editar scripts, que são sequências de comandos que podem ser salvos e utilizados repetidamente. Os comandos desta janela são executados clicando botão Run ou pelo atalho teclado Ctrl+Enter. Caso o editor não esteja aparecendo, clique em File -> New File -> R Script, ou pelo atalho Ctrl+Shift+NSource (Editor) (canto superior esquerdo): local para editar scripts, que são sequências de comandos que podem ser salvos e utilizados repetidamente. Os comandos desta janela são executados clicando botão Run ou pelo atalho teclado Ctrl+Enter. Caso o editor não esteja aparecendo, clique em File -> New File -> R Script, ou pelo atalho Ctrl+Shift+NConsole (canto inferior esquerdo): local para digitar e executar os comandos, assim como obter o resultado destes. Também mostra o resutado dos comando executados partir editor.Console (canto inferior esquerdo): local para digitar e executar os comandos, assim como obter o resultado destes. Também mostra o resutado dos comando executados partir editor.Environment (Ambiente) (canto superior direito): local que mostra variáveis definidas, entre outros.Environment (Ambiente) (canto superior direito): local que mostra variáveis definidas, entre outros.Files/Plots/Packages/Help/Viewer (canto inferior direito): local multiuso com várias abas, que mostra e configura várias opções, como arquivos, gráficos, pacotes, ajuda e visualização.Files/Plots/Packages/Help/Viewer (canto inferior direito): local multiuso com várias abas, que mostra e configura várias opções, como arquivos, gráficos, pacotes, ajuda e visualização.","code":""},{"path":"comeco.html","id":"criar-um-projeto-no-rstudio","chapter":"Capítulo 2 Começando com o R","heading":"2.2 Criar um projeto no RStudio","text":"Um projeto RStudio mantem todos os arquivos relevantes para análise, como banco de dados, scripts, resultados e figuras. É uma excelente maneira de evitar ter de lidar com caminhos e diretórios.Para começar um novo projeto, clique em File -> New Project e siga os passos nas janelas conforme aparecerem:Dê um bom nome para seu novo projeto e cuide local em que este será salvo.","code":""},{"path":"comeco.html","id":"primeiros-códigos","chapter":"Capítulo 2 Começando com o R","heading":"2.3 Primeiros códigos","text":"Após o projeto criado, vamos digitar os primeiros códigos na janela Script. Tente digitar o seguinte:Em seguida, posicione o cursor na linha que acabou de digitar, aperte o botao Run ou Ctrl + Enter e veja o resultado.Esta foi uma operação muito simples, então vamos ver alguns códigos mais interessantes.Para criar um objeto e atribuir um valor ele, primeiro precisamos dar um nome9 ao objeto, seguido símbolo de atribuição <- (atalho: Alt + - ) 10 e valor que desejamos atribuir ao objeto:Neste exemplo, o objeto denominado xrecebeu o valor 10. Notem que ao executar este comando, o objeto recém criado aparece na janela Environment, confirmando criação objeto.Este exemplo também mostrou como usar um comentário, que é um texto não interpretado pelo programa. Os comentários são bastante úteis para explicar linhas de código. Os comentários são escritos após o símbolo #. Para comentar uma ou várias linhas, selecione o texto e aperte Ctrl+Shift+C.Para verificar o valor que está atribuído um objeto, basta digitar o nome objeto11:Um objeto pode ter seu valor modificado ou copiado com uma nova atribuição:Observe que ordem de execução dos comandos é importante resultado.Um dos objetos mais útil na programação em R é o vetor, que pode ser entendido como uma série de valores armazenada em um objeto. Para criar um vetor, utilizamos função c():função str nos mostra estrutura vetor:indicando que o objeto primos6 é um vetor numérico (num).Uma parte vetor pode ser extraída como uso de colchetes [ ]:operações com vetores são aplicadas todos os elementos dele:Calcular média dos valores deste vetor com função mean:Muitas funções são disponibilizadas em pacotes. Para acessar uma função de um pacote usamos sintaxe pacote::função. Por exemplo, para acessar funções first e last pacote dplyr:Alternativamente, é possível carregar o pacote com função library e depois usar funções diretamente:Para criar uma gráfico, podemos usar várias das funções base R para esse fim. Neste exemplo, função hist cria um gráfico tipo histograma para um conjunto de 10.000 valores gerados aleatoriamente pela função rnorm.Na seção 5 veremos como utilizar o pacote ggplot2 para criar gráficos mais elaborados.","code":"\n1 + 1\n1 + 1## [1] 2\nx <- 10 # leia-se: x recebe o valor 10\nx## [1] 10\ny <- x\nx <- x * 2\nz <- x + y\n\ny## [1] 10\nx## [1] 20\nz## [1] 30\nprimos6 <- c(2, 3, 5, 7, 11, 13)\nprimos6## [1]  2  3  5  7 11 13\nstr(primos6)##  num [1:6] 2 3 5 7 11 13\nprimos6[3] # acessa o terceiro elemento do vetor## [1] 5\nprimos6[4:6] # acessa do 4° ao 6° elemento do vetor## [1]  7 11 13\nprimos6^2## [1]   4   9  25  49 121 169\nmean(primos6)## [1] 6.833333\ndplyr::first(primos6)## [1] 2\ndplyr::last(primos6)## [1] 13\nlibrary(dplyr)## \n## Attaching package: 'dplyr'## The following objects are masked from 'package:stats':\n## \n##     filter, lag## The following objects are masked from 'package:base':\n## \n##     intersect, setdiff, setequal, union\nfirst(primos6)## [1] 2\nlast(primos6)## [1] 13\nr <- rnorm(10000)\nhist(r)"},{"path":"comeco.html","id":"criar-uma-função-no-r","chapter":"Capítulo 2 Começando com o R","heading":"2.4 Criar uma função no R","text":"Funções são usadas para dividir o código em partes mais simples, mas fáceis de manter e de entender. funções também são facilmente reutilizadas.Para criar uma função R, sintaxe é seguinte:Como exemplo, vamos criar uma função que simula o lançamento dado: dado6Esta função retorna n valores entre 1 e 6 com substituição.Para utilizar função recém criada, chamamos ela pelo nome e passamos um valor para os argumentos:","code":"\nnome_funcao <- function (argumentos) {\ndeclaração\n}\ndado6 <- function(n) {\n  sample(1:6, size = n, replace = TRUE)\n}\ndado6(n = 1)## [1] 1\ndado6(n = 3)## [1] 4 3 2"},{"path":"comeco.html","id":"data-frame","chapter":"Capítulo 2 Começando com o R","heading":"2.5 Data-frame","text":"O data frame é uma estrutura bidimensional em que cada componente forma uma coluna e o conteúdo de cada componente forma linhas. Em um data frame, é importante que todas colunas tenham o mesmo commprimento, de modo que estrutura de dados resulte em um formato retangular. Também podemos imaginá-lo como um agrupamento de vetores de mesmo tamanho.Para criá-lo, usamos função data.frameIdem ao anterior, mas com os vetores sendo criado anteriormente e separadamenteO pacote tibble foi criado como uma atualização12 data-frame, e pode ser utilizado de maneira similar:O data-frame é o formato adequado para armazenar os dados formato Tidy Data, junto com o tibble (seção 2.8)","code":"\ndf <- data.frame(\n  x = c(\"a\", \"b\", \"c\"),\n  y = c(16, 32, 64)\n)\ndf##   x  y\n## 1 a 16\n## 2 b 32\n## 3 c 64\nx <- c(\"a\", \"b\", \"c\")\ny <- c(16, 32, 64)\ndf <- data.frame(x, y)\ndf##   x  y\n## 1 a 16\n## 2 b 32\n## 3 c 64\ntb <- tibble::tibble(\n  x = c(\"a\", \"b\", \"c\"),\n  y = c(16, 32, 64)\n)\ntb## # A tibble: 3 × 2\n##   x         y\n##   <chr> <dbl>\n## 1 a        16\n## 2 b        32\n## 3 c        64"},{"path":"comeco.html","id":"data-frames-nativos-no-r","chapter":"Capítulo 2 Começando com o R","heading":"2.5.1 Data-frames nativos no R","text":"Existe uma grande quantidade de data-frames pré instalados R que não necessitam de importação. Alguns dos nossos exemplos irão usar alguns destes data-frames, por exemplo, o data-frame iris, que contém medidas, em centímetros, comprimento e largura das pétalas e sépalas de três espécies de plantas: Iris setosa, . versicolor e . virginica.","code":""},{"path":"comeco.html","id":"importando-dados-para-o-r","chapter":"Capítulo 2 Começando com o R","heading":"2.6 Importando dados para o R","text":"É muito comum que os dados que utilizaremos em nossas análises estejam armazenadas em fontes externas ao R, como arquivos de texto (*.csv, *.tsv, *.txt), planilhas (*.xlsx, *.ods) ou mesmo grandes bases de dados da internet. importação consiste na leitura destas fontes para um data-frame R.Apesar de existirem vários pacotes e funções para importação de arquivos, vamos apresentar aqueles que fazem parte tidyverse","code":""},{"path":"comeco.html","id":"importar-arquivos-.csv","chapter":"Capítulo 2 Começando com o R","heading":"2.6.1 Importar arquivos .csv","text":"Os arquivos *.csv (comma-separated values) estão entre os mais populares para distribuição de dados. É um arquivo de texto, cujos valores são delimitador por vírgula.O pacote readr possui função read_csv para importação destes arquivos, cujo delimitador entre valores é vírgula e o separador de decimal é o ponto. Outra função semelhante, read_csv2 importa arquivos .csv cujo delimitador entre valores é o ponto e vírgula e o separador de decimal é vírgula13, mais comum em alguns países como o Brasil.O arquivo cbs_jul19.csv (Figura 2.2) contém temperaturas mínimas e máximas diárias para cidade de Curitibanos-SC registradas nos primeiros 15 dias mês de julho de 2019.\nFigura 2.2: Arquivo *.csv cujo delimitador entre valores é vírgula e o separador de decimal é o ponto.\nOs mesmos dados, mas em um arquivo (cbs2_jul19.csv - Figura 2.3) cujo delimitador de valores é o ponto e vírgula e o separador de decimal é vírgula:\nFigura 2.3: Arquivo *.csv cujo delimitador entre valores é o ponto e vírgula e o separador de decimal é vírgula\nimportação com função read_csv é feita como exemplo abaixo:E com função csv2:","code":"\ntemperaturas <- readr::read_csv(\"data/cbs_jul19.csv\")## Rows: 14 Columns: 3\n## ── Column specification ────────────────────────────────────────────────────────\n## Delimiter: \",\"\n## dbl  (2): temp_min, temp_max\n## date (1): data\n## \n## ℹ Use `spec()` to retrieve the full column specification for this data.\n## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\ntemperaturas## # A tibble: 14 × 3\n##    data       temp_min temp_max\n##    <date>        <dbl>    <dbl>\n##  1 2019-07-01     10.7     17.1\n##  2 2019-07-02     11       15  \n##  3 2019-07-03      5.9     14.8\n##  4 2019-07-04     -0.3     12.1\n##  5 2019-07-05     -0.8      7.1\n##  6 2019-07-06     -3.3      8.6\n##  7 2019-07-07     -4.4     13.6\n##  8 2019-07-08      2.1     19.2\n##  9 2019-07-09      0       22.5\n## 10 2019-07-10      2       19.5\n## 11 2019-07-11      4.3     21.4\n## 12 2019-07-12      8.7     23.3\n## 13 2019-07-13     12.9     23.1\n## 14 2019-07-14     13       17.4\ntemperaturas <- readr::read_csv2(\"data/cbs2_jul19.csv\")## ℹ Using \"','\" as decimal and \"'.'\" as grouping mark. Use `read_delim()` for more control.## Rows: 14 Columns: 3\n## ── Column specification ────────────────────────────────────────────────────────\n## Delimiter: \";\"\n## dbl  (2): temp_min, temp_max\n## date (1): data\n## \n## ℹ Use `spec()` to retrieve the full column specification for this data.\n## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\ntemperaturas## # A tibble: 14 × 3\n##    data       temp_min temp_max\n##    <date>        <dbl>    <dbl>\n##  1 2019-07-01     10.7     17.1\n##  2 2019-07-02     11       15  \n##  3 2019-07-03      5.9     14.8\n##  4 2019-07-04     -0.3     12.1\n##  5 2019-07-05     -0.8      7.1\n##  6 2019-07-06     -3.3      8.6\n##  7 2019-07-07     -4.4     13.6\n##  8 2019-07-08      2.1     19.2\n##  9 2019-07-09      0       22.5\n## 10 2019-07-10      2       19.5\n## 11 2019-07-11      4.3     21.4\n## 12 2019-07-12      8.7     23.3\n## 13 2019-07-13     12.9     23.1\n## 14 2019-07-14     13       17.4"},{"path":"comeco.html","id":"importando-arquivos-do-excel","chapter":"Capítulo 2 Começando com o R","heading":"2.6.2 Importando arquivos do Excel","text":"Para importar arquivos Excel, existem função read_excel pacote readxl.","code":"\nbflor <- readxl::read_excel(\"data/bflor.xlsx\")\nbflor## # A tibble: 54 × 3\n##    especie     n comprimento\n##    <chr>   <dbl>       <dbl>\n##  1 Hb          1        47.1\n##  2 Hb          2        46.8\n##  3 Hb          3        46.8\n##  4 Hb          4        47.1\n##  5 Hb          5        46.7\n##  6 Hb          6        47.4\n##  7 Hb          7        46.4\n##  8 Hb          8        46.6\n##  9 Hb          9        48.1\n## 10 Hb         10        48.3\n## # … with 44 more rows"},{"path":"comeco.html","id":"o-operador-pipe","chapter":"Capítulo 2 Começando com o R","heading":"2.7 O operador pipe: %>%","text":"O operador pipe %>% é uma ferramenta muito útil para expressar uma sequência de ações sobre um objeto. Foi introduzido pela primeira vez pacote magrittr com o objetivo de facilitar programação e melhorar e legibilidade código. Sempre carregue o pacote magrittr antes de usar o pipe.exemplo abaixo, duas linhas de código são equivalentes: aplica-se função f ao objeto x.Veja abaixo o pipe em ação:caso de uma função com vários argumentos, o pipe passa o objeto para primeira posição da função, o argumento mais à esquerda:caso de ser necessário que o objeto seja passado para outro argumento à direita, que não seja o primeiro, utilizamos um . como marcador:","code":"\nlibrary(magrittr)\nf(x)\nx %>% f() # O pipe passa o objeto x para dentro da função f\nx <- c(1, 2, 3, 5, 8, 13, 21) # criar um vetor x\nx %>% add(2) # somar 2 a cada elemento do vetor x## [1]  3  4  5  7 10 15 23\nx %>% \"+\"(2) # equivalente à operação anterior## [1]  3  4  5  7 10 15 23\nx %>%\n  \"*\"(3) %>%\n  \"+\"(1) %>%\n  \"^\"(2) # várias operações aplicadas sequencialmente ao vetor x## [1]   16   49  100  256  625 1600 4096\nx %>% sum() # soma os elementos do vetor## [1] 53\nsample(x, size = 1)## [1] 1\nx %>% sample(size = 1) # idem ao anterior com o pipe passando o objeto x para a função sample## [1] 5\niris %>%\n  lm(Petal.Length ~ Species, data = .) # o objeto iris é passado para o argumento data com um .## \n## Call:\n## lm(formula = Petal.Length ~ Species, data = .)\n## \n## Coefficients:\n##       (Intercept)  Speciesversicolor   Speciesvirginica  \n##             1.462              2.798              4.090"},{"path":"comeco.html","id":"tidydata","chapter":"Capítulo 2 Começando com o R","heading":"2.8 Organização dos dados: Tidy data","text":"Para facilitar análises, é importante que os dados estejam organizados em um formato consistente, chamado de Tidy Data (WICKHAM (2014)). regras gerais para este formato são:Cada variável deve estar em uma coluna;Cada observação deve estar em uma linha;Cada valor deve ter sua própria célula.Uma função bastante útil para organizar os dados fomato tidy é função tidyr::pivot_longer14.Considere o conjunto de dados presente nesta planilha Excel: liquido.xlsx (Figura 2.4)\nFigura 2.4: Exemplo de dados não organizados formato tidy em uma planilha Excel.\nOs dados foram digitados de modo que os valores da variável tempo estão espalhados por 4 colunas. variável repetição (implícita) está em uma linha (cabeçalho das colunas) e o nome das colunas (Tempo) está em uma célula mesclada.Ao importar este arquivo com função readxl::read_excel temos como resultado:Observamos que primeira linha (células mescladas) da planilha bagunçou ainda mais o resultado. Vamos importar novamente exlcuindo primeira linha com o argumento skip = 1.Para transformar o data-frame formato tidy, utilizamos função tidyr::pivot_longer:cols: colunas serem transformadas para o formato tidy;names_to: nome da nova coluna criada partir das informações armazenadas originalmente nos cabeçalhos das colunas;values_to: nome da nova coluna criada partir dos valores armazenados nas células.O caminho inverso também pode ser feito, transformando um data-frame formato longo para o formato wide com função tidyr::pivot_wider","code":"\nmessy_data <- readxl::read_excel(\"data/liquido.xlsx\")## New names:\n## • `` -> `...1`\n## • `` -> `...3`\n## • `` -> `...4`\n## • `` -> `...5`\nmessy_data## # A tibble: 4 × 5\n##   ...1    Tempo  ...3  ...4  ...5\n##   <chr>   <dbl> <dbl> <dbl> <dbl>\n## 1 Líquido     1     2     3     4\n## 2 Água       12    15    14    11\n## 3 Óleo       29    26    24    23\n## 4 Álcool      6     7     9     4\nmessy_data <- readxl::read_xlsx(\"data/liquido.xlsx\", skip = 1)\nmessy_data## # A tibble: 3 × 5\n##   Líquido   `1`   `2`   `3`   `4`\n##   <chr>   <dbl> <dbl> <dbl> <dbl>\n## 1 Água       12    15    14    11\n## 2 Óleo       29    26    24    23\n## 3 Álcool      6     7     9     4\ntidy_data <- tidyr::pivot_longer(messy_data, cols = 2:5, names_to = \"rep\", values_to = \"tempo\")\ntidy_data## # A tibble: 12 × 3\n##    Líquido rep   tempo\n##    <chr>   <chr> <dbl>\n##  1 Água    1        12\n##  2 Água    2        15\n##  3 Água    3        14\n##  4 Água    4        11\n##  5 Óleo    1        29\n##  6 Óleo    2        26\n##  7 Óleo    3        24\n##  8 Óleo    4        23\n##  9 Álcool  1         6\n## 10 Álcool  2         7\n## 11 Álcool  3         9\n## 12 Álcool  4         4"},{"path":"rmarkdown-1.html","id":"rmarkdown-1","chapter":"Capítulo 3 RMarkdown","heading":"Capítulo 3 RMarkdown","text":"","code":""},{"path":"rmarkdown-1.html","id":"criando-um-arquivo-rmd","chapter":"Capítulo 3 RMarkdown","heading":"3.1 Criando um arquivo Rmd","text":"Para criar um arquivo tipo Rmd, clique em File -> New File -> R Markdown.\nFigura 3.1: Criando um arquivo R Markdown.\nVárias opções estão disponíveis por padrão. Escolha aquela que julgar mais adequada ou então clique botão Create Empty Document.Um arquivo Rmd é composto por três componentes básicos: Cabeçalho, Texto e Código.Abaixo, um exemplo cabeçalho de um arquivo Rmd que exporta formato HTML:Este cabeçalho deve ser escrito entre --- (traço triplo) e utiliza síntaxe YAML (pt.wikipedia.org/wiki/YAML).O texto (ou narrativa) inicia logo após o cabeçalho e segue síntaxe demonstrada na seção 3.2.O código inicia com ```{r} (aspas triplas) em que r indica linguagem utilizada e termina com ``` (aspas triplas) novamente. Opções código podem ser escritas dentro das chaves: ```{r, .width=\"90%\"}.Para renderizar o arquivo, basta clicar botão Knit ou então utilizar o atalho Ctrl + Shift + K","code":"---\ntitle: \"Olá R Markdown\"\nauthor: \"Fulano\"\ndate: \"2022-04-19\"\noutput: html_document\n---"},{"path":"rmarkdown-1.html","id":"rmdsintaxe","chapter":"Capítulo 3 RMarkdown","heading":"3.2 Síntaxe da linguagem R Markdown","text":"síntaxe da linguagem RMarkdown é bastante simples mas poderosa. Neste capítulo, serão apresentados os principais elementos.separação entre os parágrafos deve ser feita com dois espaços verticais (enter).Para deixar um texto em itálico, este deve ser escrito entre * (asterisco simples): *itálico* = itálico. Já para deixar o texto em negrito, este deve ser escrito entre ** (asterisco duplo): **negrito** = negrito. E para itálico e negrito? adivinhem, *** (asterisco triplo): ***itálico e negrito*** = itálico e negrito.Sobrescrito deve ficar entre ^ (circunflexo): m^3^/s = m3/s. Já o subscrito é escrito entre ~ (til): H~2~O = H2O.Um link para uma página externa: [Site da UFSC](https://ufsc.br) = Site da UFSCUma lista marcada deve ter cada item precedido por um * (asterisco):* item 1* item 2Retorna:item 1item 2Uma lista numerada dever ter cada item precedido por um número:1. item 11. item 21. item 3Retorna:item 1item 2item 3Os títulos das seções são escritos após # (sustenido ou hashtag).Mais opções podem ser encontradas na folha de dicas RStudio: R Markdown Cheat SheetMuito mais informações podem ser encontradas neste livro bastante completo: R Markdown: Definitive Guide","code":"# Título nível 1\n\n## Título nível 2\n\n### Título nível 3"},{"path":"rmarkdown-1.html","id":"formatos-de-saída","chapter":"Capítulo 3 RMarkdown","heading":"3.3 Formatos de saída","text":"Os principais formatos de saída para documentos 15 são:html_document - saída em formato HTMLpdf_document - saída em formato PDFword_document - saída em formato Word (.doc)odt_document - saída em formato OpenDocument (.odt) para OpenOffice e LibreOfficertf_document - saída em formato Rich Text Format (.rtf)","code":""},{"path":"bio.html","id":"bio","chapter":"Introdução - (bio)Estatística","heading":"Introdução - (bio)Estatística","text":"","code":""},{"path":"alguns-conceitos-básicos.html","id":"alguns-conceitos-básicos","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"Capítulo 4 Alguns conceitos básicos","text":"","code":""},{"path":"alguns-conceitos-básicos.html","id":"população-e-amostra","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.1 População e amostra","text":"PopulaçãoÉ coleção inteira de indivíduos ou objetos ser considerada ou estudada. Em geral, há infinitos objetos em uma população ou, então, tantos que não podemos olhar para todos eles.AmostraÉ um subconjunto da população inteira, uma pequena seleção de indivíduos ou objetos extraídos da coleção inteira. seleção de uma amostra envolve utilização de procedimentos específicos.\nFigura 4.1: População vs Amostra\n","code":""},{"path":"alguns-conceitos-básicos.html","id":"variável","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.2 Variável","text":"É uma característica de um indivíduo em uma população de interesse. Pode assumir valores diferentes para indivíduos diferentes. Esta característica pode ser observada ou mensurada nos indivíduos que compõem amostra ou população.Exemplo 4.1  (Nível de potássio em bananas) Muitos estudos de pesquisa sugerem que bananas podem ser uma cura natural para diferentes doenças. bananas tem alto teor de ferro, que pode ajudar pessoas que sofrem de anemia, e há um antiácido nas bananas que pode ajudar aos que sofrem de azia. Um novo estudo se refere ao nível de potássio em uma banana típica. Cem bananas são selecionadas de todas partes mundo e mede-se e registra-se cuidadosamente o nível de potássio em cada uma delas. Descreva população, amostra e variável nesse problema.SOLUÇÃOA população consiste em todas bananas em todo o mundo. Embora essa população não seja infinita, certamente não podemos examinar cada banana unitariamente.amostra são 100 bananas selecionadas aleatoriamente. Esse é um sub-conjunto ou seleção (ou, bem, um cacho) da população.variável nesse problema é o nível de potássio. Essa característica será cuidadosamente medida para cada banana, e os dados serão resumidos ou usados para se tirar uma conclusão.","code":""},{"path":"alguns-conceitos-básicos.html","id":"tipos-de-variáveis","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.2.1 Tipos de variáveis","text":"Qualitativa ou Categórica: Posiciona um indivíduo em um de diversos grupos ou categorias. Também podemos dizer que expressa uma qualidade indivíduo.\nNominais: São puramente qualitativas e não ordenadas, como cor de uma flor, gênero de um mamífero, formato de uma folha, etc.\nOrdinais: Podem ser colocados em ordem, como escalas de Likert (por exemplo, classifique de 0 5, com 0 para realmente não gosto e 5 para realmente gosto), comportamento de um animal (agressivo, neutro, submissivo), etc.\nNominais: São puramente qualitativas e não ordenadas, como cor de uma flor, gênero de um mamífero, formato de uma folha, etc.Ordinais: Podem ser colocados em ordem, como escalas de Likert (por exemplo, classifique de 0 5, com 0 para realmente não gosto e 5 para realmente gosto), comportamento de um animal (agressivo, neutro, submissivo), etc.Quantitativa ou Numérica: Assume valores numéricos e operações aritméticas (adição e cálculo de médias) fazem sentido.\nContínuas: Podem assumir qualquer valor em um intervalo, como o comprimento caule de uma planta, temperatura corporal de um primata, etc.\nDiscretas: Podem assumir apenas um número limitado de valores, como o número de pétalas de uma flor, número de filhotes de uma ave, etc.\nContínuas: Podem assumir qualquer valor em um intervalo, como o comprimento caule de uma planta, temperatura corporal de um primata, etc.Discretas: Podem assumir apenas um número limitado de valores, como o número de pétalas de uma flor, número de filhotes de uma ave, etc.Exemplo 4.2  (Tipos e variáveis) Dados de um estudo podem conter valores de muitas variáveis para cada um dos sujeitas estudo. Quais das seguintes variáveis são categóricas e quais são quantitativas?GêneroIdadeCorFumantePressão sanguínea sistólicaNível de cálcio sangueSOLUÇÃOCategóricas: gênero (masculino ou feminino), cor (asiática, negra, branca, outra), fumante (sim ou não).Quantitativas: idade (em anos), pressão sanguínea (milímetros de mercúrio), nível de cálcio (microgramas por mililitro).Em algumas situações, variáveis categóricas podem ser transformadas em variáveis quantitativas e vice-versa.","code":""},{"path":"alguns-conceitos-básicos.html","id":"variáveis-derivadas","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.2.2 Variáveis derivadas","text":"maior parte das variáveissão obtidas por meio de medidas e observações diretas. entanto, há uma importante classe de variáveis denominadas derivadas, que são baseadas em duas ou mais medições obtidas independentemente. Alguns exemplos são: razão, porcentagem, índice e taxa.","code":""},{"path":"alguns-conceitos-básicos.html","id":"estatística-descritiva-vs-estatística-inferencial","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.3 Estatística descritiva vs Estatística inferencial","text":"Estatística descritiva: Utiliza métodos gráficos e numéricos para descrever, organizar e resumir dados. É uma Análise exploratória.Estatística descritiva: Utiliza métodos gráficos e numéricos para descrever, organizar e resumir dados. É uma Análise exploratória.Estatística inferencial: Utiliza técnicas e métodos para análise de um conjunto de dados pequeno e específico para se extrair uma conclusão sobre uma coleção maior, mais geral, de dados. Os procedimentos da inferência estatística nos permitem usar os dados para tirar conclusões e avaliar riscos.Estatística inferencial: Utiliza técnicas e métodos para análise de um conjunto de dados pequeno e específico para se extrair uma conclusão sobre uma coleção maior, mais geral, de dados. Os procedimentos da inferência estatística nos permitem usar os dados para tirar conclusões e avaliar riscos.Exemplo 4.3  (Descritiva vs Inferencial) Determine se cada um dos seguintes problemas é uma estatística descritiva ou inferencial.O Departamento de Transporte mantém registros referentes todos os caminhões parados para inspeção. Um relatório sobre essas inspeções lista, por carga, proporção de todos os caminhões parados.Um pesquisador obtém uma amostra aleatória de corujas selvagens e mede o quanto elas podem virar o pescoço. Os dados são usados para se concluir que uma coruja pode virar seu pescoço mais de 120 graus partir da posição de frente.Uma instalação de pesquisa da Marinha faz vários testes para verificar integridade estrutural de um novo submarino. Um relatório laboratório afirma que embarcação pode suportar pressão profundidades de, máximo, 800 pés (243,84 m).Um inspetor de segurança seleciona uma amostra de prédios de apartamentos e verifica escadas de incêndio em cada um deles. proporção de escadas quebradas na amostra é usada para estimar proporção de escadas quebradas em toda cidade.SOLUÇÃODescritivoInferencialInferencialInferencial","code":""},{"path":"alguns-conceitos-básicos.html","id":"estudo-observacional-vs-estudo-experimental","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.4 Estudo observacional vs Estudo experimental","text":"Estudo observacional: Observamos resposta para variáveis específicas para cada individuo. O objetivo de um estudo observacional é descrever algum grupo ou situação.Estudo experimental: Investigamos os efeitos de certas condições sobre indivíduos ou objetos na amostra. Os indivíduos são associados aleatoriamente grupos específicos e certos fatores são sistematicamente controlados, ou impostos, para se investigar ou isolar efeitos específicos. O pesquisador impõe deliberadamente algum tratamento aos indivíduos para observar suas respostas.Exemplo 4.4  (Um estudo observacional) Um estudo acompanhou 130 mil pessoas, que bebiam cerveja, vinho ou licor, durante 12 anos. Foram documentados os casos de infarto miocárdio. O estudo mostrou que ocorriam 35% menos mortes por infarto entre os que tomavam vinho (tinto ou branco) comparado aos que bebiam cerveja.Exemplo 4.5  (Um estudo experimental) Um agrônomo afirma que um novo fertilizante orgânico, em comparação com marca líder, aumenta produção e o tamanho dos tomates. Para o teste dessa afirmativa, pês de tomate são associados aleatoriamente um de dois grupos: m grupo é cultivado com o fertilizante líder e o outro grupo, com o novo produto. tempo da colheita, registram-se o tamanho e o peso de cada tomate, juntamente com o total de tomates por pé. Os dados coletados desse experimento são usados para comparar os dois fertilizantes.","code":""},{"path":"alguns-conceitos-básicos.html","id":"confundimento","chapter":"Capítulo 4 Alguns conceitos básicos","heading":"4.4.1 Confundimento","text":"O confundimento ocorre quando vários fatores juntos contribuem para um efeito, mas nenhuma causa única pode ser isolada.Estudos observacionais falham, em geral, porque variável explicativa se confunde com variáveis ocultas.Voltando ao exemplo vinho…pessoas que preferem vinho são diferentes daquelas que bebem cerveja. Os bebedores de vinho, como um grupo, são mais ricos e mais bem educados, comem mais frutas e vegetais e menos frituras. Sua dieta contém menos gordura e menos colesterol.variável explicativa (Qual tipo de bebida alcoólica você bebe com mais frequência?) é confundida com muitas variáveis ocultas (educação, riqueza, alimnetação e outras).Voltando ao exemplo tomate…Suponha que os pés de tomate em um dos grupos sejam regados com mais frequência e/ou expostos mais luz sol.Se os pés de tomate que receberam o novo fertilizante forem sujeitos essas condições diferentes (favoráveis) de crescimento, uma diferença na produção não poderá ser atribuída ao novo produto.Exemplo 4.6  (Aquecimento global) Registros instrumentais mostram um aumento nas temperaturas médias globais da superfície aérea e oceano da ordem de 0,5°C durante o século XX. Essa tendência é também evidente na redução da extensão da capa de neve, da taxa acelerada aumento nível mar e dos tempos de chegada e acasalamento de pássaros migratórios, que estão ocorrendo mais cedo. Esse aquecimento global coincide com mudanças dramáticas na composição gás atmosférico devido à atividade humana, por exemplo, queima de combustíveis fósseis.Os registros clima estão sujeitos um grande e incerto nível de variabilidade.evidência aquecimento global é experimental ou observacional?Qual variável explicativa influencia mudança climática?Qual variável oculta pode estar confundida com essa variável explicativa?SOLUÇÃOObservacional.Explicativa: atividade humana.Oculta: variabilidade natural ambiente (por exemplo, idades glaciais anteriores).O Comitê da Ciência da Mudança Climática afirma: “Por causa grande e ainda incerto nível de variabilidade natural inerente ao registro clima…, uma ligação de causalidade entre o lançamento de gases efeito estufa na atmosfera e mudanças climáticas observadas durante o século XX não pode ser estabelecida sem equívocos.”","code":""},{"path":"graf.html","id":"graf","chapter":"Capítulo 5 Gráficos estatísticos","heading":"Capítulo 5 Gráficos estatísticos","text":"Uma imagem vale mais que mil palavrasOs gráficos estatísticos são utilizados para fazer uma representação visual dos dados. São elaborados para serem vistos por você e por outras pessoas, por isso, sempre haverá um certo nível de subjetividade na interpretação gráfico.Não há (muitas) regras na elaboração dos gráficos, pelo contrário, temos liberdade para elaborá-los das forma que melhor nos convém. entanto, existem guias gerais bem estabelecidas que facilitam o processo de escolha tipo de gráfico mais adequado para o seu conjunto de dados. Em outras palavras, uma boa metodologia aplicada na construção dos gráficos é extremamente útil para seu correto entendimento e interpretação, seja qual o público alvo.Figura 5.1 vemos um exemplo de um gráfico ruim. Há uma quantidade considerável de poluição visual; barras são difíceis de comparar devido à perspectiva “3D”; os rótulos estão duplicados, na legenda e eixo vertical; sombras não acrescentam nenhuma informação; escolha das cores não foi muito bem feita.\nFigura 5.1: Um gráfico com poluição visual e de gosto duvidoso.\n","code":""},{"path":"graf.html","id":"o-pacote-ggplot2","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.1 O pacote ggplot2","text":"O pacote ggplot2 foi criado por Hadley Wickham baseado em um conceito denominado “Gramática de Gráficos” (Grammar Graphics).De um modo geral, criação de gráficos com o ggplot2 executa o mapeamento (mapping) dos dados para propriedades estéticas (aes) e geométricas (geom_*). Ainda, podem ser executadas transformações estatísticas (stat_*) e divisões (facet_*).\nTodas essas camadas combinadas irão resultar gráfico final.O primeiro passo é chamar funçao ggplot (sem o número 2 final!). O argumento data recebe o conjunto de dados (data.frame) que contém os valores. Para este primeiro exemplo, vamos utilizar o conjunto de dados gapminder.\nAinda, vamos mapear o eixo x para variável gdpPercap (inglês, PIB per capita, em US Dollar) e o eixo y para variável lifeExp (inglês, expectativa de vida ao nascer, em anos). Fica assim:\nFigura 5.2: “Pano de fundo” para um gráfico criado com o ggplot2\nOps, o gráfico resultante está vazio! O que aconteceu? Esta função cria apenas o “pano de fundo” para o gráfico, uma vez que ainda não definimos nenhuma geometria para preenchê-lo.Para completar o gráfico, basta digitar o sinal de adição + e chamar alguma função tipo geom_*, por exemplo, geom_point para um gráfico de pontos 16. Na prática, estamos adicionando (+) mais uma camada ao gráfico.\nFigura 5.3: Gráfico de dispersão entre o PIB per capita (USS$) e expectativa de vida ao nascer (anos).\nEm geral, todos os gráficos produzidos com o ggplot seguem praticamente mesma receita:Para simplificar ainda mais o código, é possível suprimir o nome dos argumentos data e mapping, pois são argumentos muito comuns em todos os gráficos criados com o ggplot2. Por isso, de agora em diante, neste livro, estes nomes não serão mais escritos.\nFigura 5.4: Outro código que produz um gráfico idêntico ao da Figura 5.3\n","code":"\nlibrary(gapminder) # carregar os dados gapminder\nggplot(\n  data = gapminder,\n  mapping = aes(x = gdpPercap, y = lifeExp)\n)\nggplot(\n  data = gapminder,\n  mapping = aes(x = gdpPercap, y = lifeExp)\n) +\n  geom_point()ggplot(\n  data = <data>,\n  mapping = aes(x = <variável x>, \n                y = <variável y>,\n                <...> = <...>)\n) +\n  geom_*(<...>) +\n  <...>\nggplot(\n  gapminder,\n  aes(x = gdpPercap, y = lifeExp)\n) +\n  geom_point()"},{"path":"graf.html","id":"criando-gráficos-do-ggplot-como-objetos","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.1.1 Criando gráficos do ggplot como objetos","text":"Uma forma bastante conveniente de trabalhar com os gráficos é armazenar em objetos.Neste código, criamos um objeto denominado p 17 que contém informações básicas gráfico. Na sequência, podemos adicionar mais elementos neste mesmo gráfico apenas adicionando (+) alguma função ao objeto.\nFigura 5.5: Adicionando uma camada geom_point() ao objeto p\n\nFigura 5.6: Adicionando uma camada geom_smooth() ao objeto p\n\nFigura 5.7: Adicionando várias camadas ao objeto p\n","code":"\np <- ggplot(\n  gapminder,\n  aes(x = gdpPercap, y = lifeExp)\n)\np +\n  geom_point()\np +\n  geom_smooth()## `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")'\np +\n  geom_point() +\n  geom_smooth()## `geom_smooth()` using method = 'gam' and formula 'y ~ s(x, bs = \"cs\")'"},{"path":"graf.html","id":"personalizando-os-eixos","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.1.2 Personalizando os eixos","text":"Muitas vezes precisamos personalizar os eixos gráfico para aprimorar visualização.\nfunção labs permite alterar vários argumentos, como visto exemplo seguir:\nFigura 5.8: Personalizando o gráfico alterando o rótulo dos eixos e adicionando título e subtítulo.\nx altera o rótulo eixo xy altera o rótulo eixo ytitle adiciona um título na parte superiorsubtitle adiciona um subtítulo logo abaixo títulocaption rótulo que aparece canto inferior direito","code":"\np +\n  geom_point() +\n  labs(\n    x = \"PIB per capita (US$)\",\n    y = \"Expectativa de vida ao nascer (anos)\",\n    title = \"Economia vs Expectativa de Vida\",\n    subtitle = \"Cada ponto representa um país e um ano\",\n    caption = \"Fonte: Gapminder\"\n  )"},{"path":"graf.html","id":"aes","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.1.3 Mapeando atributos estéticos","text":"Nesta seção, vamos estudar mais sobre os atributos estéticos. Em nosso primeiro gráfico, já utilizamos dois atributos de posição cartesiana: os eixos x e y.\nEntre vários outros atributos estéticos, vamos trabalhar com color e fill, que alteram cores.\nFigura 5.9: Mapeamento de cores diferentes para cada continente.\nVejam que ao mapear color para uma variável, foram atribuídas cores aos pontos, uma cor diferente para cada continente. Também foi adicionada uma legenda explicativa.Na figura seguinte, vamos adicionar mais uma camada ao gráfico, linha ajustada com geom_smooth.Veja que foi criada uma linha de ajuste para cada continente. Isso acontece porque foi mapeado o atributo color para os continentes. entanto, faixa interval de confiança não acompanhou cores, permanecendo na cor cinza. Isso acontece porque, para o ggplot, há dois tipos de objetos: color serve para linhas e pontos e fill serve para preenchimento de áreas e políogonos. Assim, para colorir faixa intervalo de confiança, os continentes deve ser mapeada para o atributo fill, como exemplo seguir.","code":"\nggplot(\n  gapminder,\n  aes(\n    x = gdpPercap,\n    y = lifeExp,\n    color = continent\n  )\n) +\n  geom_point() +\n  scale_x_log10()\nggplot(\n  gapminder,\n  aes(\n    x = gdpPercap,\n    y = lifeExp,\n    color = continent\n  )\n) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x) +\n  scale_x_log10()\nggplot(\n  gapminder,\n  aes(\n    x = gdpPercap,\n    y = lifeExp,\n    color = continent,\n    fill = continent\n  )\n) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x) +\n  scale_x_log10()"},{"path":"graf.html","id":"mapeando-atributos-em-cada-geom_","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.1.4 Mapeando atributos em cada geom_*","text":"Mas cinco linhas ajustadas podem ser demais. Queremos ajustar apenas uma! E ainda queremos manter os pontos coloridos para cada continente. Para resolver esta situação, podemos mapear os atributos dentro de cada geometria.Por padrão, funções geom_* herdam seus mapeamentos da funçao ggplot. Podemos alterar este comportamento mapeando estética apenas dentro da função geom_* que queremos que se aplique.Também é possível mapear variáveis numéricas, por exemplo, o logaritmo da população em cada país e ano. Quando fazemos isso, escala de cor produzida é um gradiente contínuo. função scale_color_viridis_c() especifica utilização da paleta de cor viridis.","code":"\nggplot(\n  gapminder,\n  aes(\n    x = gdpPercap,\n    y = lifeExp\n  )\n) +\n  geom_point(aes(color = continent)) +\n  geom_smooth(method = \"lm\", formula = y ~ x) +\n  scale_x_log10()\nggplot(\n  gapminder,\n  aes(\n    x = gdpPercap,\n    y = lifeExp\n  )\n) +\n  geom_point(aes(color = log(pop))) +\n  geom_smooth(method = \"lm\", formula = y ~ x) +\n  scale_x_log10() +\n  scale_color_viridis_c()"},{"path":"graf.html","id":"definindo-atributos-estéticos","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.1.5 Definindo atributos estéticos","text":"Em algumas situações nós apenas queremos definir atributos estéticos, como cores, em vez de mapeá-los para alguma variável. Para isso, devemos definir estes atributos fora da função aes().","code":"\np <- ggplot(\n  data = gapminder,\n  mapping = aes(\n    x = gdpPercap,\n    y = lifeExp\n  )\n)\n\n\np + \n  geom_point(color = \"purple\") +\n  scale_x_log10()\np + \n  geom_point(shape = 8, size = 2, color = \"tomato\") +\n  scale_x_log10()\np + \n  geom_point(alpha = 0.3) +\n  geom_smooth(color = \"orange\", size = 8, method = \"lm\", formula = y ~ x) +\n  scale_x_log10()"},{"path":"graf.html","id":"gráfico-de-barras","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.2 Gráfico de barras","text":"O gráfico de barras, que também pode ser chamado de gráfico de colunas, é um gráfico em que altura das barras é proporcional ao valor por elas representado.\nQuando ordenado, também pode ser chamado de Gráfico de ParetoEste tipo de gráfico é utilizado para representar os dados quando uma das variáveis é categórica ou numérica discreta. 18A maior parte dos exemplos de gráficos de barras utilizará o conjunto de dados mpg.","code":""},{"path":"graf.html","id":"gráfico-de-barras-para-uma-variável","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.2.1 Gráfico de barras para uma variável","text":"ggplot2, geometrias deste tipo de gráfico são: geom_bar ou geom_col. diferença entre elas é que geom_bar tem como padrão função stat_count que representa o número de casos em cada grupo (contagem) e geom_col tem como padrão função stat_identity que mantém os dados como estão e pode ser usada para representa valores numéricos de outra variável.Quando há apenas uma variável categórica, altura das barras é proprocional ao número (contagem) de indivíduos em cada categoria. Neste caso, usamos geom_bar, cuja função padrão é stat_count, que realiza contagem das observações em cada classe.\nFigura 5.10: Número de automóveis (contagem) em cada classe.\nPara ordenar barras, precisamos organizar o data.frame original. Para isso, utilizamos algumas funções auxiliares presentes pacote tidyverse 19. Adicionamos uma coluna adicional contendo contagem de cada grupo e depois procedemos com reordenação com função fct_reorder. Observem também utilização operador %>% (pipe) que também é carregado junto com o pacote tidyverse. Por fim, geometria é alterada para geom_col.\nFigura 5.11: Número de automóveis (contagem) em cada classe. categorias estão ordenadas em ordem crescente (menor para maior).\nPor padrão, o ordenamento é crescente, ou seja, menor para o maior. Para inverter, adicionamos o argumento .desc=TRUE à função fct_reorder, que faz o ordenamento decrescente.\nFigura 5.12: Número de automóveis (contagem) em cada classe. categorias estão ordenadas em ordem decrescente.\ncaso de uma variável numérica discreta, o código é essencialmente o mesmo, assim como suas variações.\nFigura 5.13: Número de automóveis com 4, 5, 6 ou 8 cilindros.\nPor existir uma ordem natural na variável discreta, ordenação pelo tamanho das barras não é recomendada (na maioria dos casos).","code":"\nggplot(mpg, aes(x = class)) +\n  geom_bar()\nmpg %>%\n  count(class) %>%\n  ggplot(aes(x = fct_reorder(class, n), y = n)) +\n  geom_col()\nmpg %>%\n  count(class) %>%\n  ggplot(aes(x = fct_reorder(class, n, .desc = TRUE), y = n)) +\n  geom_col()\nggplot(mpg, aes(x = cyl)) +\n  geom_bar()"},{"path":"graf.html","id":"gráfico-de-barras-para-duas-variáveis","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.2.2 Gráfico de barras para duas variáveis","text":"O gráfico de barras também pode representar relação entre duas variáveis, sendo uma delas categórica ou numérica discreta (eixo x) e outra numérica (eixo y).Neste primeiro exemplo, vamos plotar relação entre uma variável categórica (class) e outra numérica contínua (displ).\nAqui, é necessário definir uma função para resumir os dados, uma vez que função padrão (stat_count) não é adequada. Uma opção muito comum é representar média de cada grupo. Isso é possível com os argumentos stat = \"summary\"e fun = \"mean\" dentro da geometria geom_bar. Assim, calculamos média da variável displ em cada classe.\nFigura 5.14: Cilindradas (média) dos motores de automóveis em cada classe.\nPara plotar este mesmo gráfico com ordenação das colunas, devemos trabalhar data.frame original. Assim, definimos uma nova variável (media_displ) calculada partir das médias agrupamento das classes de automóveis. função fct_reorder faz ordenação crescente das médias. geometria deve ser modificada para geom_col.\nFigura 5.15: Cilindradas (média) dos motores de automóveis em cada classe. classes estão ordenadas segundo média da cilindrada dos motores.\n","code":"\nggplot(mpg, aes(x = class, y = displ)) +\n  geom_bar(stat = \"summary\", fun = \"mean\")\nmpg %>%\n  group_by(class) %>%\n  summarise(media_displ = mean(displ)) %>%\n  ggplot(aes(x = fct_reorder(class, media_displ), y = media_displ)) +\n  geom_col()"},{"path":"graf.html","id":"gráfico-de-barras-para-três-variáveis.","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.2.3 Gráfico de barras para três variáveis.","text":"É possível mapear uma terceira variável categórica ou numérica discreta em um gráfico de barras. terceira variável é passada para o argumento fill, que atribui uma cor diferente para cada nível.\nDevemos explicitá-la como fatorizada, por isso necessidade de usar função factor.Nestes exemplo, vamos utilizar o conjunto de dados ToothGrowth.opção position = \"dodge\" evita sobreposição das barras ajustando-lado lado. Uma variação é position = \"dodge2\" que adiciona um pequeno espaço entre barras.\nFigura 5.16: Comprimento de odontoblastos de porquinhos da Índia submetidos diferentes tipos de suplementos e doses de vitamina C.\nInvertendo variáveis eixo x e elemento fill:\nFigura 5.17: Comprimento de odontoblastos de porquinhos da Índia submetidos diferentes tipos de suplementos e doses de vitamina C.\n","code":"\nggplot(ToothGrowth, aes(x = supp, y = len, fill = factor(dose))) +\n  geom_bar(stat = \"summary\", fun = \"mean\", position = \"dodge\") +\n  scale_fill_viridis_d()\nggplot(ToothGrowth, aes(x = (dose), y = len, fill = supp)) +\n  geom_bar(stat = \"summary\", fun = \"mean\", position = \"dodge\") +\n  scale_fill_viridis_d()"},{"path":"graf.html","id":"gráficos-de-dispersão","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.3 Gráficos de dispersão","text":"São utilizados para mostrar relação entre duas variáveis numéricas contínuas. Para isso, são utilizados pontos que representam cada observação. geometria para este tipo de gráfico é geom_point. Veja este exemplo com os dados conjunto iris.\nFigura 5.18: Relação entre o comprimento e largura de flores de espécies de Iris. Este é um gráfico de dispersão em que cada ponto representa um par de valores.\nQuando é bem clara distinção entre variáveis, sendo uma variável preditora (independente) e outra variável resposta (dependente), estas devem ser organizadas da seguinte forma: variável preditora é mapeada eixo x e variável resposta é mapeada para o eixo y. Veja este exemplo com dados conjunto BOD\nFigura 5.19: Relação entre demanda bioquímica de oxigênio (BOD) e o tempo na avaliação da qualidade da água. Neste exemplo, o tempo é usado como um preditor para demanda bioquímica oxigênio. Por isso, o tempo está mapeado eixo x e BOD está mapeada eixo y.\n","code":"\nggplot(iris, aes(x = Petal.Length, y = Petal.Width)) +\n  geom_point()\nggplot(BOD, aes(x = Time, y = demand)) +\n  geom_point()"},{"path":"graf.html","id":"linha-de-tendência","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.3.1 Linha de tendência","text":"É bastante comum que seja traçada uma linha para os valores preditos baseados em algum modelo estatístico\nPra isso, utilizaremos função geom_smooth, que já realiza o ajuste estatístico modelo linear. Vamos definir o método (method = \"lm\") para lm de modelo linear (ou linear model em inglês). O argumento se = FALSE impede de traçar o intervalo de confiança.\nFigura 5.20: Relação entre o comprimento e largura de flores de espécies de Iris. Neste gráfico existe uma linha de tendência linear ajustada por geom_smooth.\nPor padrão, é adicionado uma região de confiança de 95% para regressão. probabilidade pode ser alterada modificando o argumento level, ou pode ser suprimida com o argumento se = FALSE.\nFigura 5.21: Relação entre o comprimento e largura de flores de espécies de Iris. linha de tendência linear é acompanhada de um intervalo de confiança de 99%. O nível de confiança é ajustado pelo argumento level.\n\nFigura 5.22: Relação entre o comprimento e largura de flores de espécies de Iris. O intervalo de confiança é suprimido com o argumento se = FALSE.\nNeste mesmo exemplo, é possível ajustar uma linha para cada espécie de Iris, mapeando espécies para cor.\nFigura 5.23: Relação entre o comprimento e largura de flores de espécies de Iris. linhas de tendência são ajustadas para cada espécie que foram mapeadas para color.\n","code":"\nggplot(iris, aes(x = Petal.Length, y = Petal.Width)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x)\niris_disp_plot <- ggplot(iris, aes(x = Petal.Length, y = Petal.Width)) +\n  geom_point()\n\niris_disp_plot + \n  geom_smooth(method = \"lm\", formula = y ~ x, level =0.99)\niris_disp_plot + \n  geom_smooth(method = \"lm\", formula = y ~ x, se = FALSE)\nggplot(iris, aes(x = Petal.Length, y = Petal.Width, color = Species)) +\n  geom_point() +\n  geom_smooth(method = \"lm\", formula = y ~ x)"},{"path":"graf.html","id":"sobreposição-de-elementos","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.4 Sobreposição de elementos","text":"Existem algumas situações em que, ao plotar os pontos, estes aparecem sobrepostos entre si. É mais comum quando ambas variáveis são discretas, pois pode ocorrer sobreposição perfeita.\nFigura 5.24: Gráfico de dispersão entre o ano de fabricação e o número de cilindros de automóveis. duas variáveis são numéricas discretas e os pontos são mostrados com sobreposição “perfeita”.\nPara contornar este problema, pode-se fazer uso da geometria geom_jitter. Ela adiciona uma pequena quantidade de variação aleatória à localização dos pontos, o que evita sobreposição. Funciona melhor em conjuntos de dados pequenos.\nFigura 5.25: Gráfico de dispersão entre o ano de fabricação e o número de cilindros de automóveis. Ao utilizar geom_jitter, localização dos pontos é alterada aleatoriamente, evitando sobreposição. Assim, é possível ter uma melhor noção da quantidade de pontos em cada nível das variáveis.\nOutra forma de lidar com sobreposição é alterar o elemento alpha, que determina transparência dos pontos. É melhor para conjuntos de dados grandes e variáveis contínuas. exemplo seguir utilizamos o conjunto de dados diamonds.\nFigura 5.26: Relação entre o peso (quilates) de diamantes e seu preço. O conjunto de dados contém um número grande de observações que causa uma grande sobreposição em algumas regiões. Ao determinar transparência (alpha), é possível melhorar observação da distribuição e verificar em quais regiões gráfico há maior concentração de pontos.\n\nFigura 5.27: Relação entre o peso (quilates) de diamantes e seu preço. O conjunto de dados contém um número grande de observações que causa uma grande sobreposição em algumas regiões. Ao determinar transparência (alpha), é possível melhorar observação da distribuição e verificar em quais regiões gráfico há maior concentração de pontos.\n","code":"\nggplot(mpg, aes(x = year, y = cyl)) +\n  geom_point()\nggplot(mpg, aes(x = year, y = cyl)) +\n  geom_jitter(width = 0.2, height = 0.2)\ndiamonds_plot <- ggplot(diamonds, aes(x = carat, y = price))\n\ndiamonds_plot + geom_point()\ndiamonds_plot + geom_point(alpha = 0.1)"},{"path":"graf.html","id":"gráficos-de-linhas","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.5 Gráficos de linhas","text":"Os gráficos de linhas são utilizados quando queremos representar uma variável numérica contínua eixo x. Em alguns casos, também podem ser utilizados para variáveis categóricas ou discretas, mas desde que tenham uma ordenação natural.Voltamos ao conjunto de dados ToothGrowth. dose, por ser uma variável numérica, pode ser representada eixo x. Os valores de comprimento foram resumidos para cada observação.\nFigura 5.28: Gráfico de linhas entre dose de vitamina C e comprimento de odontoblastos de porquinhos da Índia. dose, por ser uma variável numérica, é plotada eixo x e é possível utilizar linhas para ligar os pontos.\nÉ bastante comum sobreposição dos pontos observados às linhas, com adição de uma camada geom_point.\nFigura 5.29: Gráfico de linhas entre dose de vitamina C e comprimento de odontoblastos de porquinhos da Índia. adição de uma camada geom_point mostra os pontos observados.\nAinda há possibilidade de mapear uma terceira variável para o elemento color.\nFigura 5.30: Gráfico de linhas entre dose de vitamina C, comprimento de odontoblastos de porquinhos da Índia e forma de suplementação. terceira variável é mapeada para diferentes cores e mostrada mesmo gráfico.\n","code":"\nToothGrowth %>%\n  group_by(dose) %>%\n  summarise(len_mean = mean(len)) %>%\n  ggplot(aes(x = dose, y = len_mean)) +\n  geom_line()\nToothGrowth %>%\n  group_by(dose) %>%\n  summarise(len_mean = mean(len)) %>%\n  ggplot(aes(x = dose, y = len_mean)) +\n  geom_line() +\n  geom_point()\nToothGrowth %>%\n  group_by(supp, dose) %>%\n  summarise(len_mean = mean(len)) %>%\n  ggplot(aes(x = dose, y = len_mean, color = supp)) +\n  geom_line()## `summarise()` has grouped output by 'supp'. You can override using the\n## `.groups` argument."},{"path":"graf.html","id":"gráficos-de-linhas-para-séries-temporais","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.5.1 Gráficos de linhas para séries temporais","text":"É bastante comum que variável eixo x de uma gráfico de linhas seja uma medida de tempo. Neste caso, o gráfico estará representando uma série temporal. geometria utilizada é geom_line. Para exemplificar, vamos utilizar o conjunto de dados economics.\nFigura 5.31: Gráfico de linhas com tendência temporal para Número de desemprego. linhas são ótimas para mostrar tendências temporais, inclusive variações sazonais.\n\nFigura 5.32: Gráfico de linhas com tendência temporal para Despesas de consumo pessoal (US$ Bi). linhas são ótimas para mostrar tendências temporais, inclusive algumas anomalias pontuais.\n","code":"\nggplot(economics, aes(x = date, y = unemploy)) +\n  geom_line()\nggplot(economics, aes(x = date, y = pce)) +\n  geom_line()"},{"path":"graf.html","id":"gráficos-para-distribuição-graf_dist","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.6 Gráficos para distribuição (#graf_dist)","text":"Uma distribuição de frequência é uma forma de resumir uma quantidade de dados distribuídos em classes ou intervalos. frequência é o número de observações que pertencem cada classe.Nesta seção, serão apresentados vários tipos de gráficos utilizados para esta finalidade.","code":""},{"path":"graf.html","id":"histograma","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.6.1 Histograma","text":"O histograma é um tipo especial gráfico de barras. histograma, largura de cada barra representa uma classe, e altura das barras representa frequência ou proporção dos valores contidos em cada classe.\nVia de regra, barras histograma devem ser apresentadas sem espaço entre elas.geometria para construção histograma é geom_histogram.Vamos exemplificar com o conjunto de dados faithful.\nFigura 5.33: Histograma da distribuição de frequência tempo de espera entre erupções gêiser Old Faithful.\ncor padrão histograma ggplot dificulta separação das classes. É possível aprimorar este aspecto definindo uma cor para o contorno das barras.\nFigura 5.34: Histograma da distribuição de frequência tempo de espera entre erupções gêiser Old Faithful. Foi definida uma cor para o contorno das barras (color = \"black\") afim de melhorar visualização destas.\nPor padrão, o histograma feito com o ggplot é dividido em 30 classes (bins = 30. Este é um valor aleatório e não serve para maioria dos casos. 20\nPara alterar quantidade de classes representada, há duas opções:Determinar o número de classes diretamente, modificando o argumento bins.Determinar dimensão das classes, modificando o argumento binwidth.\nFigura 5.35: Histograma da distribuição de frequência tempo de espera entre erupções gêiser Old Faithful. Este histograma foi contruído com 20 classes (bins = 20).\n\nFigura 5.36: Histograma da distribuição de frequência tempo de espera entre erupções gêiser Old Faithful. Este histograma foi contruído com 10 classes (bins = 10).\n\nFigura 5.37: Histograma da distribuição de frequência tempo de espera entre erupções gêiser Old Faithful. Este histograma foi contruído com o intervalo das classes igual 1 minuto (binwidth = 1).\n\nFigura 5.38: Histograma da distribuição de frequência tempo de espera entre erupções gêiser Old Faithful. Este histograma foi contruído com o intervalo das classes igual 6 minutos (binwidth = 6).\nQuando temos vários grupos, podemos criar os histogramas separadamente para cada grupo coma função fecet_grid. O argumento scales='free' permite que escala eixo y seja redimensionada independentemente para cada grupo.\nFigura 5.39: Histograma para distribuição comprimento das pétalas de três espécies de Iris.\n","code":"\nggplot(faithful, aes(x = waiting)) +\n  geom_histogram()## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\nggplot(faithful, aes(x = waiting)) +\n  geom_histogram(color = \"black\")## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\nff_plot <- ggplot(faithful, aes(x = waiting))\nff_plot + geom_histogram(bins = 20, color = \"black\")\nff_plot + geom_histogram(bins = 10, color = \"black\")\nff_plot + geom_histogram(binwidth = 1, color = \"black\")\nff_plot + geom_histogram(binwidth = 6, color = \"black\")\nggplot(iris, aes(x = Petal.Length)) +\n  geom_histogram(color = \"black\") +\n  facet_grid(Species ~ ., scales = \"free\")## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`."},{"path":"graf.html","id":"gráfico-de-densidade-da-distribuição","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.6.2 Gráfico de densidade da distribuição","text":"O gráfico de densidade da distribuição é uma versão suavizada histograma. Para isso, este gráfico utiliza uma linha lugar de barras (compare com Figura 5.33).\nFigura 5.40: Densidade da distribuição tempo de espera entre erupções gêiser Old Faithful.\nUma forma popular de apresentar este gráfico é preenchendo área abaixo da linha. Isto é possível ajustando o argumento fill.\nFigura 5.41: Densidade da distribuição tempo de espera entre erupções gêiser Old Faithful. Ao ajustar o argumento fill é adicionada uma área preenchida abaixo da curva.\n","code":"\nggplot(faithful, aes(x = waiting)) +\n  geom_density()\nggplot(faithful, aes(x = waiting)) +\n  geom_density(fill = \"green\", alpha = 0.5)"},{"path":"graf.html","id":"box-plot","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.6.3 Box Plot","text":"O Box plot, também conhecido como diagrama de caixa, representa uma distribuição por meio resumo de cinco números:Limite inferiorPrimeiro quartilMedianaTerceiro quartilLimite superiorA figura abaixo mostra como estes valores formam o gráfico Box plot. “caixa” (box) tem como limites o 1° e 3° quartis, medida que também é conhecida como Amplitude Interquartil (AIQ). Neste intervalo estão presentes 50% das observações. linha dentro da caixa representa mediana. Os “bigodes” (whiskers) se estendem até uma medida predeterminada, que pode ser:O mínimo e o máximo entre todos os valores;Os valores mais próximos um limite inferior e um limite superior calculados por: \\(L_i=Q_1-c \\times AIQ\\) e \\(L_s=Q_3+c \\times AIQ\\), em que AIQ é amplitude interquartil e c é um coeficiente cujo valor padrão é 1,5 21.Os valores discrepantes, mais extremos que os limites, são plotados como pontos individuais.O Box plot utiliza geometria geom_boxplot. direção gráfico (horizontal ou vertical) é ajustada mapeando variável para o eixo x ou y\nFigura 5.42: Box plot tempo de espera entre erupções gêiser Old Faithful. Mapear variável para o eixo y resulta boxplot vertical.\n\nFigura 5.43: Box plot tempo de espera entre erupções gêiser Old Faithful. Mapear variável para o eixo y resulta boxplot horizontal.\nUma utilização bastante comum Box plot é para comparar diferentes grupos. Para isso, plotamos o Boxplot para cada grupo dentro mesmo gráfico.\nFigura 5.44: Consumo de combustível na rodovia segundo classe dos automóveis. O Box plot é uma excelente alternativa para comparação entre diferentes classes.\nO argumento coef ajusta o comprimentos dos bigodes como um múltiplo da AIQ. Por padrão, seu valor é de 1,5. Para que os bigodes se estendam até os valores máximos/mínimos, modificamos o argumento coef para NULL. Outros valores numéricos são possíveis para coef.\nFigura 5.45: Consumo de combustível na rodovia segundo classe dos automóveis. O comprimento dos bigodes alcança os valores mais extremos com o argumento coef = NULL.\n\nFigura 5.46: Consumo de combustível na rodovia segundo classe dos automóveis. O argumento coef = 2.0 ajusta o comprimento dos bigodes para 2 vezes AIQ.\n\nFigura 5.47: Consumo de combustível na rodovia segundo classe dos automóveis. O argumento coef = 1.0 ajusta o comprimento dos bigodes para 1 vez AIQ.\nÉ possível adicionar uma marca para média ao Boxplot. Para isso, utilizamos stat_summary para calcular média e ajustamos um formato para marca. O argumento shape=23 adiciona um losango (diamante), já que esse formato é bastante comum na representaçao da média.\nFigura 5.48: Consumo de combustível na rodovia segundo classe dos automóveis. Uma marca em forma de losango foi adicionada para representar média dos valores.\n","code":"\nggplot(faithful, aes(y = waiting)) +\n  geom_boxplot()\nggplot(faithful, aes(x = waiting)) +\n  geom_boxplot()\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot()\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot(coef = NULL)\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot(coef = 2.0)\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot(coef = 1.0)\nggplot(mpg, aes(x = class, y = hwy)) +\n  geom_boxplot() +\n  stat_summary(fun = \"mean\", shape = 23)"},{"path":"graf.html","id":"gráficos-interativos","chapter":"Capítulo 5 Gráficos estatísticos","heading":"5.7 Gráficos interativos","text":"O pacote plotly 22 permite criação de gráficos interativos para web.","code":"\np <- ggplot(iris, aes(x = Petal.Length, y = Petal.Width, color = Species)) +\n  geom_point()\nplotly::ggplotly(p)"},{"path":"estbas.html","id":"estbas","chapter":"Capítulo 6 Estatística Básica","heading":"Capítulo 6 Estatística Básica","text":"Neste capítulo, iremos estudar alguns itens que podem ser compreendidos como base das análises estatísticas, pois são usados transversalmente em muitos outros assuntos tratados posteriormente.Para facilitar o entendimento, alguns dos próximos exemplos (deste e dos próximos capítulos) utilizarão os dados obtidos em uma população conforme descrito seguir.Considere uma população com 150 árvores pertencente um reflorestamento de Mogno Africano. O DAP destas árvores foi medido aos 5 anos após o plantio e os dados são mostrados na tabela abaixo:Os dados também podem ser acessados arquivo dap.csv.","code":""},{"path":"estbas.html","id":"medidas-de-centro","chapter":"Capítulo 6 Estatística Básica","heading":"6.1 Medidas de centro","text":"MédiaA média aritmética é medida de centro mais comum.MedianaÉ o ponto meio de uma distribuição, o número em relação ao qual metade das observações é menor, e metade, maior.Exemplo 6.1  (Medidas de centro) Considere o conjunto de dados dap.csv.Qual média e qual mediana destes dados?","code":"\n# média\nmean(dap)## [1] 12.94553\n# mediana\nmedian(dap)## [1] 12.815"},{"path":"estbas.html","id":"medidas-de-dispersão","chapter":"Capítulo 6 Estatística Básica","heading":"6.2 Medidas de dispersão","text":"medidas de dispersão descrevem variabilidade dos dados.","code":""},{"path":"estbas.html","id":"quartil","chapter":"Capítulo 6 Estatística Básica","heading":"6.2.1 Quartil","text":"Os quartis delimitam metade central.O primeiro quartil (Q1) cai em um quarto caminho da lista.O terceiro quartil (Q3) cai em três quartos caminho na lista.Amplitude interquartil (AIQ) é diferença entre o 3º e 1º quartilConhecendo os quartis, podemos descrever uma distribuição com um Resumo de cinco números. São eles:menor observaçãoprimeiro quartilmedianaterceiro quartilmaior observaçãoExemplo 6.2  (Resumo dos cinco números) Considere o conjunto de dados dap.csv.Qual o Resumo de cinco números para estes dados?","code":"\nquantile(dap)##     0%    25%    50%    75%   100% \n##  7.920 11.620 12.815 14.325 16.830"},{"path":"estbas.html","id":"variância-e-desvio-padrão","chapter":"Capítulo 6 Estatística Básica","heading":"6.2.2 Variância e desvio-padrão","text":"São descrições numéricas mais comuns de uma distribuição.variância s2 de um conjunto de observações é média dos quadrados dos desvios das observações partir de sua média.O desvio-padrão s é raiz quadrada da variância s2.Exemplo 6.3  (Variância e desvio-padrão) Considere o conjunto de dados dap.csv.Qual variância e o desvio-padrão destes dados?23","code":"\n# Variância\nvar(dap)## [1] 3.168652\n# Desvio-padrão\nsd(dap)## [1] 1.780071"},{"path":"estbas.html","id":"descrição-de-uma-distribuição","chapter":"Capítulo 6 Estatística Básica","heading":"6.3 Descrição de uma distribuição","text":"Qualquer conjunto de dados pode (e deve) ser descrito por meio dos resumos numéricos juntamente com análise gráfica (Seção @ref(graf_dist).Essa descrição visa também verificar assimetria dos dados e presença de valores discrepantes.Exemplo 6.4  (Descrição de uma distribuição simétrica) Considere o conjunto de dados dap.csv.Descreva esta distribuição com o uso de gráficos e resumos numéricos.Esta é uma distribuição simétrica e que não possui valores atípicos.O DAP média da população é de 12.95 cm com desvio-padrão de 1.78.Vejamos outro exemplo com uma distribuição bastante diferenteExemplo 6.5  (Descrição de uma distribuição assimétrica) Considere os dados tempo de sobrevivência de porquinhos-da-índia após terem recebido uma injeção de bactéria infecciosa em um experimento médico.Os dados podem ser encontrados arquivo porquinho.xlsxA distribuição é assimétrica á direita. mediana da distribuição é 102.5.O resumo de cinco números é 43, 82.75, 102.5, 149.25, 598Metade dos porquinhos-da-índia morrem dentro dos primeiros 102 dias. Quase todos não sobrevivem até 149 dias.entanto, alguns poucos animais sobrevivem mais, de modo que o gráfico se estende mais para direita pico, até o valor mais alto de 598 dias.Tempos de sobrevivência, seja de máquinas sob esforço ou de pacientes depois de um tratamento, em geral, são assimétricos à direita.Muitas vezes, uma distribuição pode apresentar dois (ou mais) picos. existência de mais de um pico sugere que indívíduos de vários tipos estão misturados conjunto de dados.Exemplo 6.6  (Descrição de uma distribuição bimodal) Considere o conjunto de dados peixe.csv que contém o comprimento (em cm) de vários peixes apanhados em um rio.Esta é uma distribuição bimodal, ou seja, tem dois picos, que representam peixes menores e maiores.média da distribuição é 29.67 cm. Veja que este valor pouco representa distribuição, pois média está “vale” entre os picos, ou seja, uma região que contém poucos valores.Os dois picos podem refletir um dimorfismo sexual (machos maiores que fêmeas ou vice-versa) ou presença de duas raças de peixes rio.descrição separada das duas distribuições pode ser bem mais útil. Veja o arquivo peixe2.csvA média tamanho dos peixes machos é 39.1 cm e dos peixes fêmeas é 20.3 cm.Por fim, pode haver nas distribuições um ou alguns poucos valores discrepantes, ou seja, valores que diferem consideravelmente dos demais. Muito frequentemente, também são chamados de outliers.Exemplo 6.7  (Descrição de uma distribuição com valores discrepantes) Considere os dados de produção de morango (em g/planta) contidos arquivo morango.csv.Esta distribuição apresenta claramente um valor discrepante: 6870 g na posição 10 conjunto de dados.média da distribuição é 883.8 g e mediana é 670 g.O desvio-padrão é 1095.4 e o resumo de cinco números é 568, 628.25, 670, 772.25, 6870.Ao se excluir este valor discrepante (outlier), veja como fica distribuição.Agora, conseguimos ver que distribuição é simétrica.média é 690.7 g e mediana é 664 g.O desvio-padrão é 83.4 e o resumo de cinco números é 568, 626.5, 664, 771.5, 829.","code":"\n# Histograma\n hist(dap)\n# Diagrama de ramo e folhas\nstem(dap)## \n##   The decimal point is at the |\n## \n##    7 | 9\n##    8 | \n##    8 | 8\n##    9 | \n##    9 | 89\n##   10 | 002344\n##   10 | 667889999\n##   11 | 0001111223444\n##   11 | 5556667777888889\n##   12 | 000000111122334\n##   12 | 5555666688888999999\n##   13 | 0133\n##   13 | 5555556678888888999\n##   14 | 11122233444\n##   14 | 55666788899\n##   15 | 000012234\n##   15 | 5666668\n##   16 | 02\n##   16 | 55778\n# Box-plot\nboxplot(dap)\n# Histograma\n hist(porq)\n# Diagrama de ramo e folhas\nstem(porq)## \n##   The decimal point is 2 digit(s) to the right of the |\n## \n##   0 | 455666677778888888888999999\n##   1 | 0000000000011111222334444556678889\n##   2 | 01145\n##   3 | 38\n##   4 | 0\n##   5 | 12\n##   6 | 0\n# Box-plot\nboxplot(porq)\n# Histograma\n hist(peixe)\n# Diagrama de ramo e folhas\nstem(peixe)## \n##   The decimal point is at the |\n## \n##    8 | 5\n##   10 | \n##   12 | 646\n##   14 | 013467789114579\n##   16 | 0122557900144577\n##   18 | 1277780145566788\n##   20 | 0822222458999\n##   22 | 022389125668999\n##   24 | 4579900348\n##   26 | 02456135\n##   28 | 072356\n##   30 | 15\n##   32 | 012591234\n##   34 | 336801236\n##   36 | 000344678901145556679\n##   38 | 00159001335577\n##   40 | 025682556899\n##   42 | 03555578012356\n##   44 | 02475569\n##   46 | 456815\n##   48 | 6\n##   50 | 2\n# Histograma para peixes machos\nhist(peixe2$m)\n# Histograma para peixes fêmeas\nhist(peixe2$f)\n# Histograma\n hist(morango)\n# Diagrama de ramo e folhas\nstem(morango)## \n##   The decimal point is 3 digit(s) to the right of the |\n## \n##   0 | 6666666666666777777778888888888\n##   1 | \n##   2 | \n##   3 | \n##   4 | \n##   5 | \n##   6 | 9\n# Box-plot\nboxplot(morango)\nmorango2 <- morango \nmorango2[10] <- NA\n\n# Histograma\n hist(morango2)\n# Diagrama de ramo e folhas\nstem(morango2)## \n##   The decimal point is 2 digit(s) to the right of the |\n## \n##   5 | 79999\n##   6 | 0023334\n##   6 | 556689\n##   7 | 344\n##   7 | 6777899\n##   8 | 233\n# Box-plot\nboxplot(morango2)"},{"path":"estbas.html","id":"comparação-médiamediana","chapter":"Capítulo 6 Estatística Básica","heading":"6.4 Comparação média/mediana","text":"O exemplo 6.7 ilustra um fato importante sobre média como medida de centro: ela é muito sensível observações extremas, como em uma distribuição assimétrica ou na presença de valores atípicos.Como média não pode resistir à influência de observações extremas, dizemos que ela não é uma medida resistente de centro.Ao contrário, mediana é influenciada apenas pelo número total de pontos de dados e pelo valor numérico ponto, ou pontos, localizado centro da distribuição.média e mediana de uma distribuição razoavelmente simétrica estão bem próximas uma da outra.Se distribuição exatamente simétrica, média e mediana serão exatamente iguais.Em uma distribuição assimétrica, média está, em geral, numa posição mais extrema na cauda longa que mediana.Assim como média, o desvio-padrão s não é resistente. Algumas observações atípicas podem tornar s bastante grande.Como o desvio-padrão mede dispersão em torno da média, deve ser usado apenas quando média escolhida como medida de centro.","code":""},{"path":"introdução-à-inferência.html","id":"introdução-à-inferência","chapter":"Capítulo 7 Introdução à inferência","heading":"Capítulo 7 Introdução à inferência","text":"inferência estatística fornece métodos para se tirarem conclusões sobre uma população partir de dados amostrais.Intervalos de confiança: para se estimar o valor de um parâmetro de uma população;Testes de significância ou Teste de hipóteses: para se avaliar evidência favor ou contra uma afirmativa sobre uma população.Assim, o objetivo de uma amostragem é inferirmos, partir dos dados amostrais, alguma conclusão sobre população mais ampla que amostra representa, associada uma probabilidade.Nos exemplos deste capítulo, utilizaremos população descrita início capítulo 6. Também iremos utilizar um processo de amostragem aleatório para extrair amostra(s) desta população.","code":""},{"path":"introdução-à-inferência.html","id":"intervalo-de-confiança-para-a-média-populacional","chapter":"Capítulo 7 Introdução à inferência","heading":"7.1 Intervalo de Confiança para a média populacional","text":"O Intervalo de Confiança (IC) é uma estimativa de um intervalo que contém um parâmetro populacional.Utilizaremos função t.test para calcular um Intervalo de Confiança para média.Exemplo 7.1  (Intervalo de Confiança para média) Considere o conjunto de dados dap.csv. Por serem dados de uma população, vamos fazer uma amostragem (sample) de 10 indivíduos e calcular o IC de 95% 24.O output da função t.test contém muitas informções, mas por hora, vamos nos focar apenas intervalo de confiança, indicado pelo texto 95 percent confidence intervalAssim, o intervalo de confiança para média populacional desta amostra está entre 12.02 e 14.63. Em outras palavras, estamos 95% confiantes que média populacional DAP de árvores de Mogno Africano está compreendidade entre 12.02 cm e 14.63 cm.O valor da média amostral, 13.33 cm, é estimativa central e pode ser entendida como uma estimativa não enviesada da média populacional.amostra deste exemplo vem de uma população conhecida, cuja média populacional é 12.95 cm. Vejam que média amostral e média populacional diferem entre si, mas o IC calculado contém média populacional.interpretação que devemos fazer IC de 95% é que 95 em 100 amostras feitas na população irão conter média populacional. Vejamos explicação exemplo 7.2 com o uso de simulação.Exemplo 7.2  (Intervalo de Confiança para média - simulações) Considere o conjunto de dados dap.csv.Inicialmente, criamos uma função que faz uma amostragem de n elementos e retorna os valores inferior e superior IC calculado.Em seguida, com o uso da função replicate, realizamos 10025 simulações deste processo:Quantos dos IC simulados não contém verdadeira média26 populacional?Por meio de uma análise gráfica:\nFigura 7.1: Intervalos de confiança simulados para várias amostragens de uma população. média populacional é representada pela linha vertical violeta.\nCalculando proporção de ICs que não contém média populacional:Estes resultados mostram que 6 dos 100 ICs simulados não contém média populacional. Para um IC de 95%, está\nbem próximo valor esperado.Também é possível alterar probabilidade IC, com o argumento conf.level da função t.test.O Intervalo de confiança para média com 99% de probabilidade está entre 11.45 e 15.2. Estamos 99% confiantes de que o valor da média populacional esteja entre 11.45 e 15.2. Observe que o intervalo IC é maior quando aumentamos o nível de significância.","code":"\nsample(dap, 10) %>% t.test()## \n##  One Sample t-test\n## \n## data:  .\n## t = 23.04, df = 9, p-value = 2.598e-09\n## alternative hypothesis: true mean is not equal to 0\n## 95 percent confidence interval:\n##  12.01668 14.63332\n## sample estimates:\n## mean of x \n##    13.325\n## Função que amostra n elementos e retorna os valores inferior e superior do IC calculado\n## data = conjunto de dados de onde será retirada a amostra\n## n_sample = tamanho da amostra\nic_amostr <- function(data, n_sample, ...) {\n  ic_sample <- sample(data, n_sample) %>% t.test(...)\n  return(ic_sample$conf.int)\n}\n## 100 simulações com a função replicate\nic_simul <- replicate(100, ic_amostr(dap, 10))\n\n## mostrar apenas os primeiros valores do resultado\nic_simul %>%\n  t() %>%\n  head()##          [,1]     [,2]\n## [1,] 12.01668 14.63332\n## [2,] 11.91541 14.35859\n## [3,] 11.74785 14.71015\n## [4,] 11.66021 14.33979\n## [5,] 11.34152 14.68648\n## [6,] 13.02743 15.27057\n(ic_simul[1, ] > mean(dap) | ic_simul[2, ] < mean(dap)) %>% mean()## [1] 0.06\nsample(dap, 10) %>% t.test(conf.level=0.99)## \n##  One Sample t-test\n## \n## data:  .\n## t = 23.04, df = 9, p-value = 2.598e-09\n## alternative hypothesis: true mean is not equal to 0\n## 99 percent confidence interval:\n##  11.44546 15.20454\n## sample estimates:\n## mean of x \n##    13.325"},{"path":"introdução-à-inferência.html","id":"o-teste-t-para-uma-amostra","chapter":"Capítulo 7 Introdução à inferência","heading":"7.2 O teste t para uma amostra","text":"O teste t para uma amostra compara uma média amostral com um valor sob hipótese nula.O teste é planejado para se avaliar força da evidência contra hipótese nula, ou seja, hipótese nula é verdadeira até que se prove o contrário.Como regra de decisão, comparamos o p-valor teste com um valor de probabilidade definido anteriormente, formalmente conhecido como α.Se p-valor < α então rejeito hipótese H0Se p-valor >= α então não rejeito hipótese H0O p-valor é definido como probabilidade calculada de que, supondo hipótese nula verdadeira, o teste assuma um valor tão ou mais extremo que o valor realmente observado. Em outras palavras, é o menor valor de α para o qual ainda rejeitamos hipótese H0.O valor de α mais comumente utilizado é de 0,05 ou 5%. entanto, dependendo da área de conhecimento, este valor pode ser maior ou menor.Antes de realizar qualquer teste de hipóteses, como o teste t, hipóteses devem ser claramente descritas.Hipóteses:\n* H0: hipótese nula, ou seja, afirmativa ser testada.H1 ou Ha: hipótese alternativa, ou seja, uma afirmativa que contradiz hipótese nula.hipóteses alternativas podem ter três configurações, conforme o tipo teste:Teste bilateral: quando H1 afirma que o valor é diferente valor da hipótese nula;Teste unilateral à direita: quando H1 afirma que o valor é maior que o valor da hipótese nula;Teste unilateral à esquerda: quando H1 afirma que o valor é menor que o valor da hipótese nula.Exemplo 7.3  (Teste t para uma amostra) Considere o conjunto de dados dap.csv. Faça uma amostra de 10 indivíduos da população e verifique hipótese de que média amostral difere da média populacional.Primeiramente, devemos estabelecer hipóteses:H0: esta amostra vem de uma população cuja média populacional é igual 12.95H1: esta amostra vem de uma população cuja média populacional é diferente de 12.95Na função t.test, passamos o valor da média da hipótese H0 para o argumento mu. Neste exemplo, vamos passar na forma de uma função mean(dap) para evitar arredondamentos.média desta amostra é 13.33 cm. Este valor difere (numericamente) da média populacional de 12.95 cm. entanto, o p-valor teste de 0.528 nos leva não rejeitar hipótese H0, ou seja, não há evidências de que média amostral seja estatisticamente diferente da média populacional, como esperado.Vejamos como podemos interpretar o teste t com o uso de simulações:Exemplo 7.4  (Teste t para uma amostra - simulações) Considere o conjunto de dados dap.csv.Criamos uma função que faz uma amostragem de n elementos e retorna o p-valor teste t.Em seguida, procedemos com 100 simulações teste t como descrito Exemplo 7.3.Em quantas amostras o valor da média amostral é estatisticamente diferente que o valor da média sob hipótese nula? Utilize 5% de probabilidade.Por meio de uma análise gráfica:\nFigura 5.15: p-valores simulados para várias amostragens de uma população. probabilidade de 5% é representada pela linha vertical verde.\nCalculando proporção de p-valores menores que o α pré-estabelecido de 5%:Os resultados mostram que em 6 de 100 amostras o teste t rejeitou hipótese nula, ou seja, indicou uma diferença significativa entre média amostral e média populacional.","code":"\nsample(dap, 10) %>% t.test(mu = mean(dap))## \n##  One Sample t-test\n## \n## data:  .\n## t = 0.65612, df = 9, p-value = 0.5282\n## alternative hypothesis: true mean is not equal to 12.94553\n## 95 percent confidence interval:\n##  12.01668 14.63332\n## sample estimates:\n## mean of x \n##    13.325\n## Função que amostra n elementos e retorna o p-valor do teste t\n## data = conjunto de dados de onde será retirada a amostra\n## n_sample = tamanho da amostra\nt1_amostr <- function(data, n_sample, ...) {\n  ic_sample <- sample(data, n_sample) %>% t.test(...)\n  return(ic_sample$p.value)\n}\n## 100 simulações com a função replicate\nt1_simul <- replicate(100, t1_amostr(dap, 10, mu = 12.94553))\n\n## mostrar apenas os primeiros valores do resultado\nhead(t1_simul)## [1] 0.52816007 0.73107989 0.67524680 0.92873704 0.92824148 0.03814826\nmean(t1_simul < 0.05)## [1] 0.06"},{"path":"produção-de-dados.html","id":"produção-de-dados","chapter":"Capítulo 8 Produção de dados","heading":"Capítulo 8 Produção de dados","text":"produção de dados, contexto da bioestatística, nos ajuda responder questões científicas de interesse. Assim, podemos considerar uma das etapas mais importantes método científico, pois mesmo análises mais modernas e rebuscadas não serão capazes de “melhorar” os dados oriundos de estudos mal planejados ou mal executados.Para um planejamento bem elaborado, precisamos responder várias perguntas:Qual o objetivo estudo?Quem é população e quem é amostra?Quais variáveis de interesse?Quais os possíveis resultados?Quais os métodos estatísticos serão utilizados?Quais possíveis fontes de viés destes estudo?Exemplo 8.1  (Mosca das frutas) Pesquisadores da evolução desejam estudar o impacto de diferentes dietas sobre fecundidade de moscas de frutas.O primeiro passo da produção de dados para essa questão é especificação da população que desejamos descrever. Os pesquisadores estão interessados na relação entre dieta e fecundidade, mais que na descrição da espécie de moscas de frutas.Assim, população realmente amostrada poderia ser todas moscas de frutas selvagens mundo ou qualquer subpopulação de moscas de frutas não essencialmente diferente das de frutas selvagens.Os pesquisadores nesse estudo escolheram obter moscas de frutas de uma colônia de reprodução em Massachusetts. vantagem é que população de interesse, nesse caso, é semelhante à usada por outros pesquisadores da área que também encomendaram moscas de frutas dessa mesma colônia. desvantagem é que essas podem não ser representativas da população de moscas de frutas selvagens.O segundo passo envolve escolha que queremos medir: Como quantificamos “fecundidade”?Aqui, fecundidade é definida como habilidade da fêmea de pôr ovos. Para acompanhar essas pequenas criaturas, os pesquisadores mantiveram-nas em frascos que continham um suprimento de alimento representativo das dietas em estudo. O número de ovos postos por fêmea então foi contado, examinando-se o conteúdo de cada frasco.Esses exemplo apresenta um importante problema: nem todos os estudos estatísticos usam amostras extraídas diretamente da população inteira de interesse. Experimentos, em particular, raramente o fazem, devido considerações práticas e éticas.\nOs pesquisadores experimento da mosca de fruta realmente não podiam capturar moscas de todo o mundo. consequência é que conclusões experimento não podem ser estendidas diretamente todas moscas de frutas.Se os resultados podem também se aplicar uma população maior de moscas de frutas (colônia inteira em Massachusetts ou mesmo toda população de moscas de frutas selvagens), é um argumento biológico, não estatístico.","code":""},{"path":"produção-de-dados.html","id":"amostras-e-estudos-observacionais","chapter":"Capítulo 8 Produção de dados","heading":"8.1 Amostras e estudos observacionais","text":"","code":""},{"path":"produção-de-dados.html","id":"planejamentos-amostrais-ruins","chapter":"Capítulo 8 Produção de dados","heading":"8.1.1 Planejamentos amostrais ruins","text":"Antes de tudo, vamos demonstrar alguns planejamentos amostrais ruins. O planejamento amostral mais fácil — mas não o melhor — apenas escolhe os indivíduos mais à mão. Essa é chamada amostra de conveniência e, em geral, produz dados não representativos.Exemplo 8.2  (Amostra de conveniência) Se estivéssemos interessados em descobrir o percentual de adultos que tomam vitaminas e suplementos minerais, por exemplo, poderíamos ir um shopping e perguntar às pessoas que encontrássemos. entanto, uma amostra em um shopping certamente super-representará classe média e pessoas aposentadas e sub-representará pessoas mais pobres. Isto acontecerá em quase todas vezes que extrairmos tal amostra, ou seja, é um erro sistemático causado por um planejamento amostral ruim, não apenas por má sorte em uma amostra.Outro planejamento amostral viesado, amostra de resposta voluntária, permite que os indivíduos escolham se participam ou não.Todas pesquisas de resposta escrita, telefonemas ou online são exemplos de amostras de resposta voluntária.Esses tipos de amostra são viesados porque pessoas com opiniões fortes tendem responder mais. questão é que pessoas que se dão o trabalho de responder um convite aberto não são, em geral, representativas de qualquer população claramente definida.Infelizmente, amostras de conveniência e de resposta voluntária tornaram-se muito populares na mídia, porque são baratas e, em geral, (equivocadamente) sensacionalistas.","code":""},{"path":"produção-de-dados.html","id":"amostragem-aleatória","chapter":"Capítulo 8 Produção de dados","heading":"8.1.2 Amostragem aleatória","text":"Uma amostra aleatória, ou seja, escolhida pelo acaso, não permite nem o favoritismo por quem faz amostra, nem autosseleção por parte de quem responde. escolha de uma amostra aleatória ataca o viés, ao atribuir todos os indivíduos mesma chance de serem escolhidos.Amostra Aleatória Simples Consiste em n indivíduos da população, escolhidos de tal maneira que todos os conjuntos de n indivíduos tenham mesma chance de serem selecionados.Amostra Aleatória EstratificadaFazer amostras de grupos importantes dentro da população e, então, combiná-las. Os indivíduos selecionados de cada grupo devem ser proporcionais à sua participação na população.Por exemplo, podemos amostrar grupos étnicos em um primeiro nível e depois amostrar homens e mulheres separadamente em um segundo nível.Este processo garante inclusão tanto de grupos majoritários quanto minoritários.Amostra Aleatória de Múltiplos EstágiosEnvolve escolha de Amostras Aleatórias Simples (AAS) dentro de Amostras Aleatórias Simples.Por exemplo, deseja-se amostrar estudantes ensino fundamental de todo o Brasil para um estudo. Primeiro, escolhe-se uma AAS dos Estados Brasil. Para cada Estado, escolhe-se uma AAS das escolas. Para cada escola, extrai-se uma AAS de estudantes.Isso é mais prático que seleção direta de uma AAS de estudantes de todas partes.","code":""},{"path":"produção-de-dados.html","id":"estudos-observacionais","chapter":"Capítulo 8 Produção de dados","heading":"8.2 Estudos observacionais","text":"Nos estudos observacionais, o pesquisador mede mas não intervém estudo, ou seja, apenas observa os acontecimentos naturais.\nOs principais tipos de estudos observacionais são o Controle de caso e Coorte.","code":""},{"path":"produção-de-dados.html","id":"estudo-de-controle-de-caso","chapter":"Capítulo 8 Produção de dados","heading":"8.2.1 Estudo de Controle de Caso","text":"Em um estudo observacional de controle de caso, sujeitos-caso são selecionados com base em um resultado definido, e um grupo de controle de sujeitos é selecionado separadamente para servir como linha de base com qual o grupo-caso é comparado.Os estudos de controle de caso começam com duas amostras de indivíduos, selecionados por seus diferentes resultados, e procura por fatores de exposição passado dos indivíduos que difiram entre os dois grupos. É chamada de abordagem retrospectiva, pois o estudo se inicia já como resultado observado.O principal desafio está na identificação de uma amostra aleatória de indivíduos-controle similares, tanto quanto possível, aos sujeitos-caso.É bastante utiliizado quando resposta observada é rara na população. Por exemplo, um traço encontrado em cerca de um em mil indivíduos exigiria uma amostra aleatória de dez mil para se observar, talvez, cerca de dez indivíduos com o traço de interesse.Exemplo 8.3  (Aflatoxicose Quênia) Aflatoxinas são compostos tóxicos secretados por um fungo encontrado em cultivos doentes. aflatoxicose é um raro, mas grave envenenamento, que resulta da ingestão de aflatoxinas em alimento contaminado.O Quênia teve um surto de aflatoxicose em 2004, que resultou em mais de três mil casos de falência de fígado. O Ministério da Saúde Quênia suspeitou que armazenagem imprópria milho fosse, em parte, responsável pelo surto.\nPerguntou-se 40 pacientes-caso e 80 controles saudáveis como tinham armazenado e preparado o milho.Os pacientes-caso foram selecionados aleatoriamente de uma lista de indivíduos admitidos em um hospital durante o surto de 2004, devido à icterícia aguda inexplicada.seleção dos controles foi cuidadosamente pensada, de modo que fossem tão semelhantes quanto possível aos pacientes-caso, de forma relevante: indivíduos da mesma aldeia paciente que não haviam tido qualquer história de sintomas de icterícia.seleção de indivíduos que viviam na mesma aldeia garantia que os sujeitos-controle partilhassem o mesmo solo, microclima e práticas agrícolas que os pacientes-caso.Uma análise descritiva preliminar dos dados surto sugeria que o solo, o microclima e práticas agrícolas poderiam ser fatores influentes, mas não idade e o gênero.Uma conclusão estudo foi que armazenagem imprópria milho estava associada uma taxa mais alta de aflatoxicose.O estudo da aflatoxicose teve controles cuidadosamente selecionados, permitindo ao pesquisador encontrar causas plausíveis para epidemia.Na abordagem retrospectiva, deve-se tomar muito cuidado pois memórias não são sempre precisas, e o viés de lembrança pode ser um fator de confundimento. Por exemplo, os indivíduos hospitalizados por falência aguda fígado podem ter lembranças diferentes das dos sujeitos-controle, possivelmente porque o assunto interessa mais eles.","code":""},{"path":"produção-de-dados.html","id":"estudo-de-coorte","chapter":"Capítulo 8 Produção de dados","heading":"8.2.2 Estudo de Coorte","text":"Em um estudo de coorte, sujeitos semelhantes são arrolados e observados em intervalos regulares, durante um longo período.Esses são estudos prospectivos, que registram, em intervalos regulares, toda espécie de informação relevante sobre os participantes estudo.Quando o estudo termina, os indivíduos que desenvolveram uma condição são, então, comparados com os não afetados.Diferentemente dos estudos de controle de caso, os estudos de coorte são muito caros e se adaptam melhor à investigação de resultados comuns.Exemplo 8.4  (Estudo da Saúde de Enfermeiras) O Estudo da Saúde de Enfermeiras é um dos maiores estudos observacionais prospectivos, destinado ao exame de fatores que possam afetar principais doenças crônicas femininas.Desde 1976, o estudo acompanhou uma coorte de mais de 100.000 enfermeiras registradas, com ideia de que enfermeiras seriam capazes de responder com precisão questionários com formulação médica.cada dois anos, enfermeiras que participavam estudo recebiam um questionário de acompanhamento sobre doenças e tópicos relativos à saúde, como dieta e estilo de vida. taxas de resposta ao questionário são de cerca de 90%, para cada ciclo de dois anos.Uma das descobertas estudo foi de que prática de caminhada, quando tinham entre 50 e 60 anos, melhorou sua memória aos 70 anos.Apesar pedido para que essas mulheres fizessem um teste cognitivo, o planejamento estudo ainda era observacional, porque todas mulheres amostradas faziam o teste, e os pesquisadores não alocavam aleatoriamente diferentes regimes de caminhada.Na verdade, eles observaram que mulheres que caminharam mais durante seus 50 e 60 anos terminavam com melhor memória na idade de 70 anos ou mais.Por exemplo, pode ser que mulheres com melhor saúde fossem também mais capazes de caminhar e menos propensas à perda de memória. Portanto, não podemos concluir, sem ambiguidade, que caminhar tenha efeito de proteção contra perda de memória.","code":""},{"path":"produção-de-dados.html","id":"planejamento-de-experimentos","chapter":"Capítulo 8 Produção de dados","heading":"8.3 Planejamento de Experimentos","text":"Os indivíduos estudados em um experimento são, em geral, chamados sujeitosAs variáveis explicativas em um experimento são chamadas fatores.Um tratamento é uma condição experimental específica aplicada aos sujeitos.Se um experimento tiver vários fatores, um tratamento será uma combinação de valores específicos de cada fator.Exemplo 8.5  (Efeito protetor da dieta Mediterrâneo) populações mediterrâneas são conhecidas por terem menos doenças coração e alguns tipos de câncer. Sua dieta, rica em fibras naturais, vitaminas e ácido oleico, tem sido apontada como uma explicação desse fenômeno.Para testar essa hipótese, um experimento associou 605 sobreviventes de um primeiro ataque cardíaco para seguirem, por cinco anos, uma dieta tipo Mediterrâneo ou uma dieta da Associação Americana Coração.Os pacientes foram avaliados regularmente, e uma variedade de resultados foi registrada, desde níveis de ácido graxo plasma até ocorrências de câncer ou ataque coração ou morte (cardíaca, câncer ou outra).associação uma ou outra dieta foi aleatória, e os dois grupos não diferiam substancialmente nos aspectos demográficos. Possíveis fatores de confundimento, como fumo e níveis de atividade, foram monitorados de perto e incluídos na análise estatística, mas não foram restringidos ou impostos.Há um único fator: “dieta”.Há um único fator: “dieta”.Esse experimento compara dois tratamentos: dieta Mediterrâneo e dieta AAC.Esse experimento compara dois tratamentos: dieta Mediterrâneo e dieta AAC.Os sujeitos são sobreviventes de um primeiro ataque cardíaco,Os sujeitos são sobreviventes de um primeiro ataque cardíaco,Há muitas variáveis resposta, registradas durante cinco anos, como câncer e ataque coração.Há muitas variáveis resposta, registradas durante cinco anos, como câncer e ataque coração.Exemplo 8.6  (Efeito da variedade milho e teor proteico crescimento de pintinhos) Novas variedades de milho, com conteúdo de aminoácido alterado, podem ter maior valor nutricional que o milho padrão, que tem baixa quantidade de aminoácido lisina.Um experimento compara duas novas variedades, chamadas opaque-2 e floury-2, com o milho normal.Os pesquisadores misturaram dietas de milho-soja, usando cada tipo de milho em cada um de três níveis de proteína: 12%, 16% e 20%.Eles deram cada dieta 10 pintinhos machos com um dia de nascidos e registraram seus ganhos de peso depois de 21 dias. O ganho de peso dos pintinhos é uma medida valor nutricional da dieta.Esse experimento tem dois fatores: variedade milho, com três níveis (opaque-2, floury-2 e normal), e nível de proteína, com três níveis (12%, 16%, 20%).Esse experimento tem dois fatores: variedade milho, com três níveis (opaque-2, floury-2 e normal), e nível de proteína, com três níveis (12%, 16%, 20%).nove combinações de ambos os fatores formam nove tratamentos.nove combinações de ambos os fatores formam nove tratamentos.Os indivíduos são os pintinhos machos com um diaOs indivíduos são os pintinhos machos com um diaA variável resposta é o ganho de peso depois de 21 dias sob dieta de tratamento.variável resposta é o ganho de peso depois de 21 dias sob dieta de tratamento.","code":""},{"path":"produção-de-dados.html","id":"vantagem-dos-experimentos","chapter":"Capítulo 8 Produção de dados","heading":"8.3.1 Vantagem dos experimentos","text":"Experimentos são o método preferido para o exame efeito de uma variável sobre outra.Pela imposição de um tratamento específico de interesse e controle de outras influências, podemos localizar causa e efeito.Planejamentos estatísticos são, em geral, essenciais para experimentos eficazes.Para entendermos por quê, vamos começar com um exemplo de um mau planejamento.###EXEMPLO Um experimento não controladoO congelamento gástrico foi introduzido nos anos 1960 por um proeminente cirurgião como método para aliviar dor da úlcera.Os pacientes deviam engolir um balão vazio, posteriormente enchido com um líquido refrigerado, para esfriar o revestimento estômago e reduzir produção de ácido e reduzir dor.Um grupo de sujeitos (os pacientes) foi exposto ao tratamento (congelamento gástrico), e o resultado (redução da dor) foi observado.Sujeitos → Congelamento gástrico → Redução da dorOs procedimentos realizados mostraram que o congelamento gástrico realmente reduzia dor da úlcera, e o tratamento foi recomendado com base nessa evidência.O que teria acontecido se tivéssemos deixado os pacientes em paz? dor deles teria diminuído mesmo sem intervenção?E se os pacientes fossem inclinados dizer que estavam se sentindo melhor (talvez porque esperassem melhorar ou para agradar o experimentador)?E se os pacientes realmente se sentissem melhor, mas devido ao cuidado e à atenção que recebiam e que os faziam se sentir bem geral, não às condições congelamento revestimento estômago?Essa é uma possibilidade real, e melhoras psicológicas semelhantes foram documentadas em muitos experimentos humanos.Chamamos isso de efeito placebo.O efeito congelamento gástrico é confundido com o de duas variáveis ocultas:melhora natural, espontânea,melhora natural, espontânea,melhora psicológica devido ao cuidado médico.melhora psicológica devido ao cuidado médico.Devido ao confundimento, melhora sujeito não pode ser inequivocamente atribuída ao efeito congelamento gástrico.","code":""},{"path":"produção-de-dados.html","id":"experimentos-comparativos","chapter":"Capítulo 8 Produção de dados","heading":"8.3.2 Experimentos comparativos","text":"solução para o confundimento exemplo anterior é realização de um experimento comparativo:Alguns pacientes fazem o tratamento de congelamento gástricoAlguns pacientes fazem o tratamento de congelamento gástricoOutros pacientes semelhantes realizam um processo simulado\n+ Controle em relação ao efeito placeboOutros pacientes semelhantes realizam um processo simuladoOutros realizam nenhum procedimento\nControle em relação ao efeito de melhora natural\nOutros realizam nenhum procedimentoControle em relação ao efeito de melhora naturalA maioria dos experimentos bem planejados compara dois ou mais tratamentos.Um grupo experimental é um grupo de indivíduos que recebe um tratamento cujo efeito desejamos entender.Um controle ou testemunha é um tratamento que se destina servir como parâmetro com o qual o grupo experimental é comparado.Um placebo é um tratamento de controle falso (por exemplo, uma pílula de açúcar), mas que não se distingue tratamento grupo experimental.O efeito placebo é documentado apenas em experimentos humanos, em contextos tão diversos como estudo da asma ou pressão sanguínea alta. O efeito é particularmente forte quando variável resposta é dor. Os mecanismos desse efeito mente-corpo são desconhecidos, mas não sem fundamentação biológica. Sabemos que o sistema nervoso interage com o imunológico e que depressão, por exemplo, suprime resposta imune.###EXEMPLO Um experimento controladoO experimento simples, exemplo anterior, foi seguido, muitos anos depois, por um experimento controlado aleatorizadoPacientes que se submetiam ao congelamento gástrico eram comparados com pacientes semelhantes que se submetiam tratamento semelhante, exceto pelo fato de o líquido bombeado não ser refrigerado (placebo).34% de melhora – congelamento gástrico38% de melhora - placeboEsse experimento comparativo demonstrou que o resfriamento revestimento estômago não era mais eficaz para redução da dor de úlcera que um procedimento falso. O tratamento foi, então, abandonado.","code":"+ Controle em relação ao efeito placebo"},{"path":"conjunto-de-dados-do-r.html","id":"conjunto-de-dados-do-r","chapter":"Apêndice A Conjunto de dados do R","heading":"Apêndice A Conjunto de dados do R","text":"Existe uma variedade de base de dados (datasets) incluídos com o R. Segue uma breve descrição de alguns destes datasets que serão utilizados neste curso.","code":""},{"path":"conjunto-de-dados-do-r.html","id":"gapminder","chapter":"Apêndice A Conjunto de dados do R","heading":"A.1 gapminder","text":"Este conjunto de dados contém um recorte dos dados Instituto Gapminder. São 1704 linhas com 6 variáveis:country: país, com 142 níveiscontinent: continente, com 5 níveisyear: ano, entre 1952 e 2007 com incremente de 5 anoslifeExp: expectativa de vida ao nascer, em anospop: populaçãogdpPercap: PIB per capita, em US Dollar (ajustado para inflação)Para acessá-lo, antes é preciso instalar o pacote gapminder e carregá-lo.","code":"\ninstall.packages(\"gapminder\")\nlibrary(gapminder)"},{"path":"conjunto-de-dados-do-r.html","id":"mpg","chapter":"Apêndice A Conjunto de dados do R","heading":"A.2 mpg","text":"Este conjunto de dados é parte pacote ggplot2 e contém dados relacionados à economia de combustível (https://fueleconomy.gov/) de 38 modelos de carros nos anos de 1999 e 2008. São 234 linhas com 11 variáveis:manufacturer: nome da montadoramodel: nome modelodispl: cilindrada motor, em litrosyear: ano de fabricaçãocyl: número de cilindrostrans: tipo de transmissãodrv: tipo de tração, em que f = tração dianteira, r = tração traseira, 4 = tração 4x4cty: consumo na cidade em milhas por galãohwy: consumo na rodovia milhas por galãofl: tipo de combustívelclass: categoria carroPara acessá-lo, é preciso ter o pacote ggplot2 instalado e carregado.","code":"\ninstall.packages(\"ggplot2\") #caso não esteja instalado\nlibrary(ggplot2)"},{"path":"conjunto-de-dados-do-r.html","id":"tooth","chapter":"Apêndice A Conjunto de dados do R","heading":"A.3 ToothGrowth","text":"Este conjunto contém dados de um experimento em que foi medido o comprimento de odontoblastos (células responsáveis pelo crescimento dos dentes) em 60 porquinhos da Índia 27. Cada animal recebeu uma dose diferente de vitamina C (0,5, 1,0 ou 2,0 mg/dia) por um tipo de suplemento: suco de laranja (OJ) ou ácido ascórbico (VC). São 60 linhas com 3 variáveis:len: comprimento de odontoblastossupp: tipo de suplemento de vitamina Cdose: dose de vitamina C","code":""},{"path":"conjunto-de-dados-do-r.html","id":"economics","chapter":"Apêndice A Conjunto de dados do R","heading":"A.4 economics","text":"Este conjunto de dados traz uma série temporal de dados econômicos dos Estados Unidos 28. São 574 linhas com 6 variáveisdate: Mês de aquisição dos dadospce: despesas de consumo pessoal, em bilhões de dólarespop: população total, em milharespsavert: taxa de poupança pessoaluempmed: duração mediana desemprego, em semanasunemploy: número de desempregados, em milhares","code":""},{"path":"conjunto-de-dados-do-r.html","id":"iris","chapter":"Apêndice A Conjunto de dados do R","heading":"A.5 iris","text":"Este dataset contém medidas, em centímetros, comprimento e largura das pétalas e sépalas de três espécies de plantas: Iris setosa, . versicolor e . virginica. São 150 linhas com 5 variáveis.Sepal.Length: comprimento das sépalasSepal.Width: largura das sépalasPetal.Length: comprimento das pétalasPetal.Width: largura das sépalasSpecies: espécies de Iris","code":""},{"path":"conjunto-de-dados-do-r.html","id":"bod","chapter":"Apêndice A Conjunto de dados do R","heading":"A.6 BOD","text":"Este dataset contém demanda bioquímica de oxigênio em função tempo em uma avaliação da qualidade da água.Time: tempo em diasdemand: BOD em mg/L","code":""},{"path":"conjunto-de-dados-do-r.html","id":"diamonds","chapter":"Apêndice A Conjunto de dados do R","heading":"A.7 diamonds","text":"Este conjunto de dados contém atributos de aproximadamento 54.000 diamantes. variáveis são:price: preço em dólarescarat: peso em quilatescut: qualidade corte (Razoável, Bom, Muito Bom, Premium, Ideal)color: cor diamante, de D (melhor) J (pior)clarity: uma medida de quão claro é o diamante (I1 (pior), SI2, SI1, VS2, VS1, VVS2, VVS1, (melhor))x: comprimento em mmy: largura em mmz: profundidade em mmdepth: porcentagem de profundidade total = z / média (x, y) = 2 * z / (x + y)table: largura topo diamante em relação ao ponto mais largo","code":"## Warning in instance$preRenderHook(instance): It seems your data is too big\n## for client-side DataTables. You may consider server-side processing: https://\n## rstudio.github.io/DT/server.html"},{"path":"conjunto-de-dados-do-r.html","id":"faithful","chapter":"Apêndice A Conjunto de dados do R","heading":"A.8 faithful","text":"Descreve o tempo entre erupções e duração das erupções gêiser Old Faithful Parque Yellowstone. São 272 observações de 2 variáveis.eruptions: duração da erupção, em minutoswaiting: tempo de epera até próxima erupção, em minutos","code":""}]
